!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],n):"object"==typeof exports?exports.UndoRedoAddon=n(require("UIExtension")):t.UndoRedoAddon=n(t.UIExtension)}(self,(function(t){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=288)}([function(t,n,e){(function(n){var e=function(t){return t&&t.Math==Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof n&&n)||function(){return this}()||Function("return this")()}).call(this,e(102))},function(t,n){function e(){return t.exports=e=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){t.exports=function(t){return"function"==typeof t}},function(t,n,e){var r=e(0),o=e(69).f,i=e(23),a=e(14),u=e(73),c=e(159),s=e(112);t.exports=function(t,n){var e,f,l,p,d,h=t.target,v=t.global,y=t.stat;if(e=v?r:y?r[h]||u(h,{}):(r[h]||{}).prototype)for(f in n){if(p=n[f],l=t.noTargetGet?(d=o(e,f))&&d.value:e[f],!s(v?f:h+(y?".":"#")+f,t.forced)&&void 0!==l){if(typeof p==typeof l)continue;c(p,l)}(t.sham||l&&l.sham)&&i(p,"sham",!0),a(e,f,p,t)}}},function(t,n,e){var r=e(43),o=Function.prototype,i=o.bind,a=o.call,u=r&&i.bind(a,a);t.exports=r?function(t){return t&&u(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},function(t,n,e){var r=e(0),o=e(71),i=e(11),a=e(107),u=e(106),c=e(105),s=o("wks"),f=r.Symbol,l=f&&f.for,p=c?f:f&&f.withoutSetter||a;t.exports=function(t){if(!i(s,t)||!u&&"string"!=typeof s[t]){var n="Symbol."+t;u&&i(f,t)?s[t]=f[t]:s[t]=c&&l?l(n):p(n)}return s[t]}},function(t,n,e){var r=e(43),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},function(t,n,e){var r=e(0),o=e(12),i=r.String,a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not an object")}},function(n,e){n.exports=t},function(t,n,e){var r=e(2);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,n,e){var r=e(5),o=e(22),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,n){return i(o(t),n)}},function(t,n,e){var r=e(3);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},function(t,n,e){var r=e(0),o=e(10),i=e(108),a=e(109),u=e(8),c=e(70),s=r.TypeError,f=Object.defineProperty,l=Object.getOwnPropertyDescriptor;n.f=o?a?function(t,n,e){if(u(t),n=c(n),u(e),"function"==typeof t&&"prototype"===n&&"value"in e&&"writable"in e&&!e.writable){var r=l(t,n);r&&r.writable&&(t[n]=e.value,e={configurable:"configurable"in e?e.configurable:r.configurable,enumerable:"enumerable"in e?e.enumerable:r.enumerable,writable:!1})}return f(t,n,e)}:f:function(t,n,e){if(u(t),n=c(n),u(e),i)try{return f(t,n,e)}catch(t){}if("get"in e||"set"in e)throw s("Accessors not supported");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(0),o=e(3),i=e(11),a=e(23),u=e(73),c=e(51),s=e(33),f=e(52).CONFIGURABLE,l=s.get,p=s.enforce,d=String(String).split("String");(t.exports=function(t,n,e,c){var s,l=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,v=!!c&&!!c.noTargetGet,y=c&&void 0!==c.name?c.name:n;o(e)&&("Symbol("===String(y).slice(0,7)&&(y="["+String(y).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(e,"name")||f&&e.name!==y)&&a(e,"name",y),(s=p(e)).source||(s.source=d.join("string"==typeof y?y:""))),t!==r?(l?!v&&t[n]&&(h=!0):delete t[n],h?t[n]=e:a(t,n,e)):h?t[n]=e:u(n,e)})(Function.prototype,"toString",(function(){return o(this)&&l(this).source||c(this)}))},function(t,n,e){var r=e(80),o=e(14),i=e(165);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,n,e){var r=e(138),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,n,e){var r=e(0),o=e(3),i=function(t){return o(t)?t:void 0};t.exports=function(t,n){return arguments.length<2?i(r[t]):r[t]&&r[t][n]}},function(t,n){t.exports=!1},function(t,n,e){e(166),e(180),e(185),e(186),e(187),e(188)},function(t,n,e){var r=e(213),o=e(214),i=e(128),a=e(215);t.exports=function(t){return r(t)||o(t)||i(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,e){var r=e(0),o=e(3),i=e(49),a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a function")}},function(t,n,e){var r=e(0),o=e(32),i=r.Object;t.exports=function(t){return i(o(t))}},function(t,n,e){var r=e(10),o=e(13),i=e(44);t.exports=r?function(t,n,e){return o.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(111);t.exports=function(t){return r(t.length)}},function(t,n,e){var r=e(230),o=e(235);t.exports=function(t,n){var e=o(t,n);return r(e)?e:void 0}},function(t,n,e){var r=e(103),o=e(32);t.exports=function(t){return r(o(t))}},function(t,n,e){var r=e(0);t.exports=r.Promise},function(t,n,e){"use strict";var r=e(4),o=e(18),i=e(27),a=e(2),u=e(17),c=e(3),s=e(114),f=e(122),l=e(14),p=i&&i.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var n=s(this,u("Promise")),e=c(t);return this.then(e?function(e){return f(n,t()).then((function(){return e}))}:t,e?function(e){return f(n,t()).then((function(){throw e}))}:t)}}),!o&&c(i)){var d=u("Promise").prototype.finally;p.finally!==d&&l(p,"finally",d,{unsafe:!0})}},function(t,n,e){var r=e(0),o=e(55),i=r.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},function(t,n,e){"use strict";var r=e(4),o=e(86);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,n,e){var r=e(5),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},function(t,n,e){var r=e(0).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},function(t,n,e){var r,o,i,a=e(158),u=e(0),c=e(5),s=e(12),f=e(23),l=e(11),p=e(72),d=e(74),h=e(75),v=u.TypeError,y=u.WeakMap;if(a||p.state){var g=p.state||(p.state=new y),b=c(g.get),x=c(g.has),m=c(g.set);r=function(t,n){if(x(g,t))throw new v("Object already initialized");return n.facade=t,m(g,t,n),n},o=function(t){return b(g,t)||{}},i=function(t){return x(g,t)}}else{var w=d("state");h[w]=!0,r=function(t,n){if(l(t,w))throw new v("Object already initialized");return n.facade=t,f(t,w,n),n},o=function(t){return l(t,w)?t[w]:{}},i=function(t){return l(t,w)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(n){var e;if(!s(n)||(e=o(n)).type!==t)throw v("Incompatible receiver, "+t+" required");return e}}}},function(t,n,e){var r=e(2),o=e(6),i=e(46),a=o("species");t.exports=function(t){return i>=51||!r((function(){var n=[];return(n.constructor={})[a]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}},function(t,n,e){var r=e(0),o=e(27),i=e(3),a=e(112),u=e(51),c=e(6),s=e(179),f=e(18),l=e(46),p=o&&o.prototype,d=c("species"),h=!1,v=i(r.PromiseRejectionEvent),y=a("Promise",(function(){var t=u(o),n=t!==String(o);if(!n&&66===l)return!0;if(f&&(!p.catch||!p.finally))return!0;if(l>=51&&/native code/.test(t))return!1;var e=new o((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(e.constructor={})[d]=r,!(h=e.then((function(){}))instanceof r)||!n&&s&&!v}));t.exports={CONSTRUCTOR:y,REJECTION_EVENT:v,SUBCLASSING:h}},function(t,n,e){"use strict";var r=e(21),o=function(t){var n,e;this.promise=new t((function(t,r){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=r})),this.resolve=r(n),this.reject=r(e)};t.exports.f=function(t){return new o(t)}},function(t,n){t.exports={}},function(t,n,e){var r=e(56),o=e(5),i=e(103),a=e(22),u=e(24),c=e(77),s=o([].push),f=function(t){var n=1==t,e=2==t,o=3==t,f=4==t,l=6==t,p=7==t,d=5==t||l;return function(h,v,y,g){for(var b,x,m=a(h),w=i(m),S=r(v,y),j=u(w),O=0,A=g||c,R=n?A(h,j):e||p?A(h,0):void 0;j>O;O++)if((d||O in w)&&(x=S(b=w[O],O,m),t))if(n)R[O]=x;else if(x)switch(t){case 3:return!0;case 5:return b;case 6:return O;case 2:s(R,b)}else switch(t){case 4:return!1;case 7:s(R,b)}return l?-1:o||f?f:R}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},function(t,n,e){"use strict";var r=e(4),o=e(38).map;r({target:"Array",proto:!0,forced:!e(34)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,n){t.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}},function(t,n){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,n,e){var r=e(218);t.exports=function(t){return r(t,5)}},function(t,n,e){var r=e(2);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,e){var r=e(5);t.exports=r({}.isPrototypeOf)},function(t,n,e){var r,o,i=e(0),a=e(47),u=i.process,c=i.Deno,s=u&&u.versions||c&&c.version,f=s&&s.v8;f&&(o=(r=f.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},function(t,n,e){var r=e(17);t.exports=r("navigator","userAgent")||""},function(t,n,e){var r=e(21);t.exports=function(t,n){var e=t[n];return null==e?void 0:r(e)}},function(t,n,e){var r=e(0).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},function(t,n,e){var r=e(0),o=e(12),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,n,e){var r=e(5),o=e(3),i=e(72),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},function(t,n,e){var r=e(10),o=e(11),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,u=o(i,"name"),c=u&&"something"===function(){}.name,s=u&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:u,PROPER:c,CONFIGURABLE:s}},function(t,n,e){var r=e(54),o=Math.max,i=Math.min;t.exports=function(t,n){var e=r(t);return e<0?o(e+n,0):i(e,n)}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){var n=+t;return n!=n||0===n?0:(n>0?r:e)(n)}},function(t,n,e){var r=e(0),o=e(80),i=e(3),a=e(31),u=e(6)("toStringTag"),c=r.Object,s="Arguments"==a(function(){return arguments}());t.exports=o?a:function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=c(t),u))?e:s?a(n):"Object"==(r=a(n))&&i(n.callee)?"Arguments":r}},function(t,n,e){var r=e(5),o=e(21),i=e(43),a=r(r.bind);t.exports=function(t,n){return o(t),void 0===n?t:i?a(t,n):function(){return t.apply(n,arguments)}}},function(t,n,e){"use strict";var r=e(4),o=e(38).filter;r({target:"Array",proto:!0,forced:!e(34)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,e){"use strict";var r=e(4),o=e(0),i=e(2),a=e(78),u=e(12),c=e(22),s=e(24),f=e(81),l=e(77),p=e(34),d=e(6),h=e(46),v=d("isConcatSpreadable"),y=o.TypeError,g=h>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),b=p("concat"),x=function(t){if(!u(t))return!1;var n=t[v];return void 0!==n?!!n:a(t)};r({target:"Array",proto:!0,forced:!g||!b},{concat:function(t){var n,e,r,o,i,a=c(this),u=l(a,0),p=0;for(n=-1,r=arguments.length;n<r;n++)if(x(i=-1===n?a:arguments[n])){if(p+(o=s(i))>9007199254740991)throw y("Maximum allowed index exceeded");for(e=0;e<o;e++,p++)e in i&&f(u,p,i[e])}else{if(p>=9007199254740991)throw y("Maximum allowed index exceeded");f(u,p++,i)}return u.length=p,u}})},function(t,n,e){var r=e(0),o=e(124),i=e(125),a=e(189),u=e(23),c=function(t){if(t&&t.forEach!==a)try{u(t,"forEach",a)}catch(n){t.forEach=a}};for(var s in o)o[s]&&c(r[s]&&r[s].prototype);c(i)},function(t,n,e){var r=e(6),o=e(61),i=e(13),a=r("unscopables"),u=Array.prototype;null==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),t.exports=function(t){u[a][t]=!0}},function(t,n,e){var r,o=e(8),i=e(195),a=e(76),u=e(75),c=e(116),s=e(50),f=e(74),l=f("IE_PROTO"),p=function(){},d=function(t){return"<script>"+t+"<\/script>"},h=function(t){t.write(d("")),t.close();var n=t.parentWindow.Object;return t=null,n},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,n;v="undefined"!=typeof document?document.domain&&r?h(r):((n=s("iframe")).style.display="none",c.appendChild(n),n.src=String("javascript:"),(t=n.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):h(r);for(var e=a.length;e--;)delete v.prototype[a[e]];return v()};u[l]=!0,t.exports=Object.create||function(t,n){var e;return null!==t?(p.prototype=o(t),e=new p,p.prototype=null,e[l]=t):e=v(),void 0===n?e:i.f(e,n)}},function(t,n,e){var r=e(220),o=e(221),i=e(222),a=e(223),u=e(224);function c(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},function(t,n,e){var r=e(136);t.exports=function(t,n){for(var e=t.length;e--;)if(r(t[e][0],n))return e;return-1}},function(t,n,e){var r=e(89),o=e(231),i=e(232),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,n,e){var r=e(25)(Object,"create");t.exports=r},function(t,n,e){var r=e(245);t.exports=function(t,n){var e=t.__data__;return r(n)?e["string"==typeof n?"string":"hash"]:e.map}},function(t,n,e){var r=e(140),o=e(141);t.exports=function(t,n,e,i){var a=!e;e||(e={});for(var u=-1,c=n.length;++u<c;){var s=n[u],f=i?i(e[s],t[s],s,e,t):void 0;void 0===f&&(f=t[s]),a?o(e,s,f):r(e,s,f)}return e}},function(t,n,e){var r=e(154);t.exports=function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,e){var r=e(10),o=e(7),i=e(155),a=e(44),u=e(26),c=e(70),s=e(11),f=e(108),l=Object.getOwnPropertyDescriptor;n.f=r?l:function(t,n){if(t=u(t),n=c(n),f)try{return l(t,n)}catch(t){}if(s(t,n))return a(!o(i.f,t,n),t[n])}},function(t,n,e){var r=e(156),o=e(104);t.exports=function(t){var n=r(t,"string");return o(n)?n:n+""}},function(t,n,e){var r=e(18),o=e(72);(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.22.2",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.2/LICENSE",source:"https://github.com/zloirock/core-js"})},function(t,n,e){var r=e(0),o=e(73),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,n,e){var r=e(0),o=Object.defineProperty;t.exports=function(t,n){try{o(r,t,{value:n,configurable:!0,writable:!0})}catch(e){r[t]=n}return n}},function(t,n,e){var r=e(71),o=e(107),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,n){t.exports={}},function(t,n){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,n,e){var r=e(164);t.exports=function(t,n){return new(r(t))(0===n?0:n)}},function(t,n,e){var r=e(31);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,n,e){var r=e(5),o=e(2),i=e(3),a=e(55),u=e(17),c=e(51),s=function(){},f=[],l=u("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=r(p.exec),h=!p.exec(s),v=function(t){if(!i(t))return!1;try{return l(s,f,t),!0}catch(t){return!1}},y=function(t){if(!i(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!d(p,c(t))}catch(t){return!0}};y.sham=!0,t.exports=!l||o((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?y:v},function(t,n,e){var r={};r[e(6)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,n,e){"use strict";var r=e(70),o=e(13),i=e(44);t.exports=function(t,n,e){var a=r(n);a in t?o.f(t,a,i(0,e)):t[a]=e}},function(t,n,e){var r=e(31),o=e(0);t.exports="process"==r(o.process)},function(t,n,e){var r=e(13).f,o=e(11),i=e(6)("toStringTag");t.exports=function(t,n,e){t&&!e&&(t=t.prototype),t&&!o(t,i)&&r(t,i,{configurable:!0,value:n})}},function(t,n){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,n,e){"use strict";var r=e(26),o=e(60),i=e(37),a=e(33),u=e(13).f,c=e(130),s=e(18),f=e(10),l=a.set,p=a.getterFor("Array Iterator");t.exports=c(Array,"Array",(function(t,n){l(this,{type:"Array Iterator",target:r(t),index:0,kind:n})}),(function(){var t=p(this),n=t.target,e=t.kind,r=t.index++;return!n||r>=n.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==e?{value:r,done:!1}:"values"==e?{value:n[r],done:!1}:{value:[r,n[r]],done:!1}}),"values");var d=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!s&&f&&"values"!==d.name)try{u(d,"name",{value:"values"})}catch(t){}},function(t,n,e){"use strict";var r,o,i=e(7),a=e(5),u=e(29),c=e(87),s=e(200),f=e(71),l=e(61),p=e(33).get,d=e(201),h=e(202),v=f("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,g=y,b=a("".charAt),x=a("".indexOf),m=a("".replace),w=a("".slice),S=(o=/b*/g,i(y,r=/a/,"a"),i(y,o,"a"),0!==r.lastIndex||0!==o.lastIndex),j=s.BROKEN_CARET,O=void 0!==/()??/.exec("")[1];(S||O||j||d||h)&&(g=function(t){var n,e,r,o,a,s,f,d=this,h=p(d),A=u(t),R=h.raw;if(R)return R.lastIndex=d.lastIndex,n=i(g,R,A),d.lastIndex=R.lastIndex,n;var E=h.groups,T=j&&d.sticky,P=i(c,d),I=d.source,N=0,_=A;if(T&&(P=m(P,"y",""),-1===x(P,"g")&&(P+="g"),_=w(A,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==b(A,d.lastIndex-1))&&(I="(?: "+I+")",_=" "+_,N++),e=new RegExp("^(?:"+I+")",P)),O&&(e=new RegExp("^"+I+"$(?!\\s)",P)),S&&(r=d.lastIndex),o=i(y,T?e:d,_),T?o?(o.input=w(o.input,N),o[0]=w(o[0],N),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:S&&o&&(d.lastIndex=d.global?o.index+o[0].length:r),O&&o&&o.length>1&&i(v,o[0],e,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&E)for(o.groups=s=l(null),a=0;a<E.length;a++)s[(f=E[a])[0]]=o[f[1]];return o}),t.exports=g},function(t,n,e){"use strict";var r=e(8);t.exports=function(){var t=r(this),n="";return t.hasIndices&&(n+="d"),t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n,e){var r=e(25)(e(16),"Map");t.exports=r},function(t,n,e){var r=e(16).Symbol;t.exports=r},function(t,n,e){var r=e(142),o=e(259),i=e(146);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,n){var e=Array.isArray;t.exports=e},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n){t.exports=function(t){return function(n){return t(n)}}},function(t,n,e){(function(t){var r=e(138),o=n&&!n.nodeType&&n,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u}).call(this,e(92)(t))},function(t,n){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},function(t,n,e){var r=e(142),o=e(262),i=e(146);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,n,e){var r=e(267),o=e(147),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(n){return i.call(t,n)})))}:o;t.exports=u},function(t,n,e){var r=e(271),o=e(88),i=e(272),a=e(273),u=e(274),c=e(64),s=e(139),f=s(r),l=s(o),p=s(i),d=s(a),h=s(u),v=c;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(t){var n=c(t),e="[object Object]"==n?t.constructor:void 0,r=e?s(e):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return n}),t.exports=v},function(t,n,e){var r=e(277);t.exports=function(t){var n=new t.constructor(t.byteLength);return new r(n).set(new r(t)),n}},function(t,n,e){var r=e(192),o=e(193),i=e(128),a=e(194);t.exports=function(t,n){return r(t)||o(t,n)||i(t,n)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,e){"use strict";var r=e(4),o=e(0),i=e(53),a=e(54),u=e(24),c=e(22),s=e(77),f=e(81),l=e(34)("splice"),p=o.TypeError,d=Math.max,h=Math.min;r({target:"Array",proto:!0,forced:!l},{splice:function(t,n){var e,r,o,l,v,y,g=c(this),b=u(g),x=i(t,b),m=arguments.length;if(0===m?e=r=0:1===m?(e=0,r=b-x):(e=m-2,r=h(d(a(n),0),b-x)),b+e-r>9007199254740991)throw p("Maximum allowed length exceeded");for(o=s(g,r),l=0;l<r;l++)(v=x+l)in g&&f(o,l,g[v]);if(o.length=r,e<r){for(l=x;l<b-r;l++)y=l+e,(v=l+r)in g?g[y]=g[v]:delete g[y];for(l=b;l>b-r+e;l--)delete g[l-1]}else if(e>r)for(l=b-r;l>x;l--)y=l+e-1,(v=l+r-1)in g?g[y]=g[v]:delete g[y];for(l=0;l<e;l++)g[l+x]=arguments[l+2];return g.length=b-r+e,o}})},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){var r=e(0),o=e(5),i=e(2),a=e(31),u=r.Object,c=o("".split);t.exports=i((function(){return!u("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?c(t,""):u(t)}:u},function(t,n,e){var r=e(0),o=e(17),i=e(3),a=e(45),u=e(105),c=r.Object;t.exports=u?function(t){return"symbol"==typeof t}:function(t){var n=o("Symbol");return i(n)&&a(n.prototype,c(t))}},function(t,n,e){var r=e(106);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,n,e){var r=e(46),o=e(2);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,n,e){var r=e(5),o=0,i=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},function(t,n,e){var r=e(10),o=e(2),i=e(50);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,n,e){var r=e(10),o=e(2);t.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(t,n,e){var r=e(5),o=e(11),i=e(26),a=e(162).indexOf,u=e(75),c=r([].push);t.exports=function(t,n){var e,r=i(t),s=0,f=[];for(e in r)!o(u,e)&&o(r,e)&&c(f,e);for(;n.length>s;)o(r,e=n[s++])&&(~a(f,e)||c(f,e));return f}},function(t,n,e){var r=e(54),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,n,e){var r=e(2),o=e(3),i=/#|\.prototype\./,a=function(t,n){var e=c[u(t)];return e==f||e!=s&&(o(n)?r(n):!!n)},u=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=a.data={},s=a.NATIVE="N",f=a.POLYFILL="P";t.exports=a},function(t,n,e){var r=e(5),o=e(8),i=e(168);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,n=!1,e={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(e,[]),n=e instanceof Array}catch(t){}return function(e,r){return o(e),i(r),n?t(e,r):e.__proto__=r,e}}():void 0)},function(t,n,e){var r=e(8),o=e(171),i=e(6)("species");t.exports=function(t,n){var e,a=r(t).constructor;return void 0===a||null==(e=r(a)[i])?n:o(e)}},function(t,n,e){var r,o,i,a,u=e(0),c=e(172),s=e(56),f=e(3),l=e(11),p=e(2),d=e(116),h=e(117),v=e(50),y=e(173),g=e(118),b=e(82),x=u.setImmediate,m=u.clearImmediate,w=u.process,S=u.Dispatch,j=u.Function,O=u.MessageChannel,A=u.String,R=0,E={};try{r=u.location}catch(t){}var T=function(t){if(l(E,t)){var n=E[t];delete E[t],n()}},P=function(t){return function(){T(t)}},I=function(t){T(t.data)},N=function(t){u.postMessage(A(t),r.protocol+"//"+r.host)};x&&m||(x=function(t){y(arguments.length,1);var n=f(t)?t:j(t),e=h(arguments,1);return E[++R]=function(){c(n,void 0,e)},o(R),R},m=function(t){delete E[t]},b?o=function(t){w.nextTick(P(t))}:S&&S.now?o=function(t){S.now(P(t))}:O&&!g?(a=(i=new O).port2,i.port1.onmessage=I,o=s(a.postMessage,a)):u.addEventListener&&f(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!p(N)?(o=N,u.addEventListener("message",I,!1)):o="onreadystatechange"in v("script")?function(t){d.appendChild(v("script")).onreadystatechange=function(){d.removeChild(this),T(t)}}:function(t){setTimeout(P(t),0)}),t.exports={set:x,clear:m}},function(t,n,e){var r=e(17);t.exports=r("document","documentElement")},function(t,n,e){var r=e(5);t.exports=r([].slice)},function(t,n,e){var r=e(47);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(t,n,e){var r=e(0),o=e(56),i=e(7),a=e(8),u=e(49),c=e(181),s=e(24),f=e(45),l=e(182),p=e(120),d=e(183),h=r.TypeError,v=function(t,n){this.stopped=t,this.result=n},y=v.prototype;t.exports=function(t,n,e){var r,g,b,x,m,w,S,j=e&&e.that,O=!(!e||!e.AS_ENTRIES),A=!(!e||!e.IS_ITERATOR),R=!(!e||!e.INTERRUPTED),E=o(n,j),T=function(t){return r&&d(r,"normal",t),new v(!0,t)},P=function(t){return O?(a(t),R?E(t[0],t[1],T):E(t[0],t[1])):R?E(t,T):E(t)};if(A)r=t;else{if(!(g=p(t)))throw h(u(t)+" is not iterable");if(c(g)){for(b=0,x=s(t);x>b;b++)if((m=P(t[b]))&&f(y,m))return m;return new v(!1)}r=l(t,g)}for(w=r.next;!(S=i(w,r)).done;){try{m=P(S.value)}catch(t){d(r,"throw",t)}if("object"==typeof m&&m&&f(y,m))return m}return new v(!1)}},function(t,n,e){var r=e(55),o=e(48),i=e(37),a=e(6)("iterator");t.exports=function(t){if(null!=t)return o(t,a)||o(t,"@@iterator")||i[r(t)]}},function(t,n,e){var r=e(27),o=e(184),i=e(35).CONSTRUCTOR;t.exports=i||!o((function(t){r.all(t).then(void 0,(function(){}))}))},function(t,n,e){var r=e(8),o=e(12),i=e(36);t.exports=function(t,n){if(r(t),o(n)&&n.constructor===t)return n;var e=i.f(t);return(0,e.resolve)(n),e.promise}},function(t,n,e){var r=e(10),o=e(52).EXISTS,i=e(5),a=e(13).f,u=Function.prototype,c=i(u.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,f=i(s.exec);r&&!o&&a(u,"name",{configurable:!0,get:function(){try{return f(s,c(this))[1]}catch(t){return""}}})},function(t,n){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,n,e){var r=e(50)("span").classList,o=r&&r.constructor&&r.constructor.prototype;t.exports=o===Object.prototype?void 0:o},function(t,n,e){var r=e(4),o=e(22),i=e(127);r({target:"Object",stat:!0,forced:e(2)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,n,e){var r=e(110),o=e(76);t.exports=Object.keys||function(t){return r(t,o)}},function(t,n,e){var r=e(129);t.exports=function(t,n){if(t){if("string"==typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,e){"use strict";var r=e(4),o=e(7),i=e(18),a=e(52),u=e(3),c=e(196),s=e(132),f=e(113),l=e(83),p=e(23),d=e(14),h=e(6),v=e(37),y=e(131),g=a.PROPER,b=a.CONFIGURABLE,x=y.IteratorPrototype,m=y.BUGGY_SAFARI_ITERATORS,w=h("iterator"),S=function(){return this};t.exports=function(t,n,e,a,h,y,j){c(e,n,a);var O,A,R,E=function(t){if(t===h&&_)return _;if(!m&&t in I)return I[t];switch(t){case"keys":case"values":case"entries":return function(){return new e(this,t)}}return function(){return new e(this)}},T=n+" Iterator",P=!1,I=t.prototype,N=I[w]||I["@@iterator"]||h&&I[h],_=!m&&N||E(h),C="Array"==n&&I.entries||N;if(C&&(O=s(C.call(new t)))!==Object.prototype&&O.next&&(i||s(O)===x||(f?f(O,x):u(O[w])||d(O,w,S)),l(O,T,!0,!0),i&&(v[T]=S)),g&&"values"==h&&N&&"values"!==N.name&&(!i&&b?p(I,"name","values"):(P=!0,_=function(){return o(N,this)})),h)if(A={values:E("values"),keys:y?_:E("keys"),entries:E("entries")},j)for(R in A)(m||P||!(R in I))&&d(I,R,A[R]);else r({target:n,proto:!0,forced:m||P},A);return i&&!j||I[w]===_||d(I,w,_,{name:h}),v[n]=_,A}},function(t,n,e){"use strict";var r,o,i,a=e(2),u=e(3),c=e(61),s=e(132),f=e(14),l=e(6),p=e(18),d=l("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(r=o):h=!0),null==r||a((function(){var t={};return r[d].call(t)!==t}))?r={}:p&&(r=c(r)),u(r[d])||f(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,n,e){var r=e(0),o=e(11),i=e(3),a=e(22),u=e(74),c=e(197),s=u("IE_PROTO"),f=r.Object,l=f.prototype;t.exports=c?f.getPrototypeOf:function(t){var n=a(t);if(o(n,s))return n[s];var e=n.constructor;return i(e)&&n instanceof e?e.prototype:n instanceof f?l:null}},function(t,n,e){"use strict";var r=e(134).charAt,o=e(29),i=e(33),a=e(130),u=i.set,c=i.getterFor("String Iterator");a(String,"String",(function(t){u(this,{type:"String Iterator",string:o(t),index:0})}),(function(){var t,n=c(this),e=n.string,o=n.index;return o>=e.length?{value:void 0,done:!0}:(t=r(e,o),n.index+=t.length,{value:t,done:!1})}))},function(t,n,e){var r=e(5),o=e(54),i=e(29),a=e(32),u=r("".charAt),c=r("".charCodeAt),s=r("".slice),f=function(t){return function(n,e){var r,f,l=i(a(n)),p=o(e),d=l.length;return p<0||p>=d?t?"":void 0:(r=c(l,p))<55296||r>56319||p+1===d||(f=c(l,p+1))<56320||f>57343?t?u(l,p):r:t?s(l,p,p+2):f-56320+(r-55296<<10)+65536}};t.exports={codeAt:f(!1),charAt:f(!0)}},function(t,n,e){var r=e(0),o=e(124),i=e(125),a=e(85),u=e(23),c=e(6),s=c("iterator"),f=c("toStringTag"),l=a.values,p=function(t,n){if(t){if(t[s]!==l)try{u(t,s,l)}catch(n){t[s]=l}if(t[f]||u(t,f,n),o[n])for(var e in a)if(t[e]!==a[e])try{u(t,e,a[e])}catch(n){t[e]=a[e]}}};for(var d in o)p(r[d]&&r[d].prototype,d);p(i,"DOMTokenList")},function(t,n){t.exports=function(t,n){return t===n||t!=t&&n!=n}},function(t,n,e){var r=e(64),o=e(40);t.exports=function(t){if(!o(t))return!1;var n=r(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},function(t,n,e){(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.exports=e}).call(this,e(102))},function(t,n){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,n,e){var r=e(141),o=e(136),i=Object.prototype.hasOwnProperty;t.exports=function(t,n,e){var a=t[n];i.call(t,n)&&o(a,e)&&(void 0!==e||n in t)||r(t,n,e)}},function(t,n,e){var r=e(250);t.exports=function(t,n,e){"__proto__"==n&&r?r(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}},function(t,n,e){var r=e(252),o=e(253),i=e(91),a=e(143),u=e(256),c=e(257),s=Object.prototype.hasOwnProperty;t.exports=function(t,n){var e=i(t),f=!e&&o(t),l=!e&&!f&&a(t),p=!e&&!f&&!l&&c(t),d=e||f||l||p,h=d?r(t.length,String):[],v=h.length;for(var y in t)!n&&!s.call(t,y)||d&&("length"==y||l&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,v))||h.push(y);return h}},function(t,n,e){(function(t){var r=e(16),o=e(255),i=n&&!n.nodeType&&n,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;t.exports=c}).call(this,e(92)(t))},function(t,n){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,n){t.exports=function(t,n){return function(e){return t(n(e))}}},function(t,n,e){var r=e(137),o=e(144);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,n){t.exports=function(){return[]}},function(t,n,e){var r=e(149),o=e(150),i=e(97),a=e(147),u=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)r(n,i(t)),t=o(t);return n}:a;t.exports=u},function(t,n){t.exports=function(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t}},function(t,n,e){var r=e(145)(Object.getPrototypeOf,Object);t.exports=r},function(t,n,e){var r=e(149),o=e(91);t.exports=function(t,n,e){var i=n(t);return o(t)?i:r(i,e(t))}},function(t,n){function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=null},function(t,n){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,e){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);n.f=i?function(t){var n=o(this,t);return!!n&&n.enumerable}:r},function(t,n,e){var r=e(0),o=e(7),i=e(12),a=e(104),u=e(48),c=e(157),s=e(6),f=r.TypeError,l=s("toPrimitive");t.exports=function(t,n){if(!i(t)||a(t))return t;var e,r=u(t,l);if(r){if(void 0===n&&(n="default"),e=o(r,t,n),!i(e)||a(e))return e;throw f("Can't convert object to primitive value")}return void 0===n&&(n="number"),c(t,n)}},function(t,n,e){var r=e(0),o=e(7),i=e(3),a=e(12),u=r.TypeError;t.exports=function(t,n){var e,r;if("string"===n&&i(e=t.toString)&&!a(r=o(e,t)))return r;if(i(e=t.valueOf)&&!a(r=o(e,t)))return r;if("string"!==n&&i(e=t.toString)&&!a(r=o(e,t)))return r;throw u("Can't convert object to primitive value")}},function(t,n,e){var r=e(0),o=e(3),i=e(51),a=r.WeakMap;t.exports=o(a)&&/native code/.test(i(a))},function(t,n,e){var r=e(11),o=e(160),i=e(69),a=e(13);t.exports=function(t,n,e){for(var u=o(n),c=a.f,s=i.f,f=0;f<u.length;f++){var l=u[f];r(t,l)||e&&r(e,l)||c(t,l,s(n,l))}}},function(t,n,e){var r=e(17),o=e(5),i=e(161),a=e(163),u=e(8),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var n=i.f(u(t)),e=a.f;return e?c(n,e(t)):n}},function(t,n,e){var r=e(110),o=e(76).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,n,e){var r=e(26),o=e(53),i=e(24),a=function(t){return function(n,e,a){var u,c=r(n),s=i(c),f=o(a,s);if(t&&e!=e){for(;s>f;)if((u=c[f++])!=u)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===e)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(0),o=e(78),i=e(79),a=e(12),u=e(6)("species"),c=r.Array;t.exports=function(t){var n;return o(t)&&(n=t.constructor,(i(n)&&(n===c||o(n.prototype))||a(n)&&null===(n=n[u]))&&(n=void 0)),void 0===n?c:n}},function(t,n,e){"use strict";var r=e(80),o=e(55);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,n,e){"use strict";var r,o,i,a=e(4),u=e(18),c=e(82),s=e(0),f=e(7),l=e(14),p=e(167),d=e(113),h=e(83),v=e(169),y=e(21),g=e(3),b=e(12),x=e(170),m=e(114),w=e(115).set,S=e(174),j=e(177),O=e(84),A=e(178),R=e(33),E=e(27),T=e(35),P=e(36),I=T.CONSTRUCTOR,N=T.REJECTION_EVENT,_=T.SUBCLASSING,C=R.getterFor("Promise"),k=R.set,M=E&&E.prototype,D=E,L=M,F=s.TypeError,V=s.document,U=s.process,B=P.f,G=B,z=!!(V&&V.createEvent&&s.dispatchEvent),H=function(t){var n;return!(!b(t)||!g(n=t.then))&&n},W=function(t,n){var e,r,o,i=n.value,a=1==n.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,l=t.domain;try{u?(a||(2===n.rejection&&J(n),n.rejection=1),!0===u?e=i:(l&&l.enter(),e=u(i),l&&(l.exit(),o=!0)),e===t.promise?s(F("Promise-chain cycle")):(r=H(e))?f(r,e,c,s):c(e)):s(i)}catch(t){l&&!o&&l.exit(),s(t)}},q=function(t,n){t.notified||(t.notified=!0,S((function(){for(var e,r=t.reactions;e=r.get();)W(e,t);t.notified=!1,n&&!t.rejection&&$(t)})))},Y=function(t,n,e){var r,o;z?((r=V.createEvent("Event")).promise=n,r.reason=e,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:n,reason:e},!N&&(o=s["on"+t])?o(r):"unhandledrejection"===t&&j("Unhandled promise rejection",e)},$=function(t){f(w,s,(function(){var n,e=t.facade,r=t.value;if(K(t)&&(n=O((function(){c?U.emit("unhandledRejection",r,e):Y("unhandledrejection",e,r)})),t.rejection=c||K(t)?2:1,n.error))throw n.value}))},K=function(t){return 1!==t.rejection&&!t.parent},J=function(t){f(w,s,(function(){var n=t.facade;c?U.emit("rejectionHandled",n):Y("rejectionhandled",n,t.value)}))},X=function(t,n,e){return function(r){t(n,r,e)}},Q=function(t,n,e){t.done||(t.done=!0,e&&(t=e),t.value=n,t.state=2,q(t,!0))},Z=function(t,n,e){if(!t.done){t.done=!0,e&&(t=e);try{if(t.facade===n)throw F("Promise can't be resolved itself");var r=H(n);r?S((function(){var e={done:!1};try{f(r,n,X(Z,e,t),X(Q,e,t))}catch(n){Q(e,n,t)}})):(t.value=n,t.state=1,q(t,!1))}catch(n){Q({done:!1},n,t)}}};if(I&&(L=(D=function(t){x(this,L),y(t),f(r,this);var n=C(this);try{t(X(Z,n),X(Q,n))}catch(t){Q(n,t)}}).prototype,(r=function(t){k(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new A,rejection:!1,state:0,value:void 0})}).prototype=p(L,{then:function(t,n){var e=C(this),r=B(m(this,D));return e.parent=!0,r.ok=!g(t)||t,r.fail=g(n)&&n,r.domain=c?U.domain:void 0,0==e.state?e.reactions.add(r):S((function(){W(r,e)})),r.promise}}),o=function(){var t=new r,n=C(t);this.promise=t,this.resolve=X(Z,n),this.reject=X(Q,n)},P.f=B=function(t){return t===D||void 0===t?new o(t):G(t)},!u&&g(E)&&M!==Object.prototype)){i=M.then,_||l(M,"then",(function(t,n){var e=this;return new D((function(t,n){f(i,e,t,n)})).then(t,n)}),{unsafe:!0});try{delete M.constructor}catch(t){}d&&d(M,L)}a({global:!0,wrap:!0,forced:I},{Promise:D}),h(D,"Promise",!1,!0),v("Promise")},function(t,n,e){var r=e(14);t.exports=function(t,n,e){for(var o in n)r(t,o,n[o],e);return t}},function(t,n,e){var r=e(0),o=e(3),i=r.String,a=r.TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw a("Can't set "+i(t)+" as a prototype")}},function(t,n,e){"use strict";var r=e(17),o=e(13),i=e(6),a=e(10),u=i("species");t.exports=function(t){var n=r(t),e=o.f;a&&n&&!n[u]&&e(n,u,{configurable:!0,get:function(){return this}})}},function(t,n,e){var r=e(0),o=e(45),i=r.TypeError;t.exports=function(t,n){if(o(n,t))return t;throw i("Incorrect invocation")}},function(t,n,e){var r=e(0),o=e(79),i=e(49),a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a constructor")}},function(t,n,e){var r=e(43),o=Function.prototype,i=o.apply,a=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},function(t,n,e){var r=e(0).TypeError;t.exports=function(t,n){if(t<n)throw r("Not enough arguments");return t}},function(t,n,e){var r,o,i,a,u,c,s,f,l=e(0),p=e(56),d=e(69).f,h=e(115).set,v=e(118),y=e(175),g=e(176),b=e(82),x=l.MutationObserver||l.WebKitMutationObserver,m=l.document,w=l.process,S=l.Promise,j=d(l,"queueMicrotask"),O=j&&j.value;O||(r=function(){var t,n;for(b&&(t=w.domain)&&t.exit();o;){n=o.fn,o=o.next;try{n()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},v||b||g||!x||!m?!y&&S&&S.resolve?((s=S.resolve(void 0)).constructor=S,f=p(s.then,s),a=function(){f(r)}):b?a=function(){w.nextTick(r)}:(h=p(h,l),a=function(){h(r)}):(u=!0,c=m.createTextNode(""),new x(r).observe(c,{characterData:!0}),a=function(){c.data=u=!u})),t.exports=O||function(t){var n={fn:t,next:void 0};i&&(i.next=n),o||(o=n,a()),i=n}},function(t,n,e){var r=e(47),o=e(0);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},function(t,n,e){var r=e(47);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,n,e){var r=e(0);t.exports=function(t,n){var e=r.console;e&&e.error&&(1==arguments.length?e.error(t):e.error(t,n))}},function(t,n){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var n={item:t,next:null};this.head?this.tail.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},function(t,n){t.exports="object"==typeof window&&"object"!=typeof Deno},function(t,n,e){"use strict";var r=e(4),o=e(7),i=e(21),a=e(36),u=e(84),c=e(119);r({target:"Promise",stat:!0,forced:e(121)},{all:function(t){var n=this,e=a.f(n),r=e.resolve,s=e.reject,f=u((function(){var e=i(n.resolve),a=[],u=0,f=1;c(t,(function(t){var i=u++,c=!1;f++,o(e,n,t).then((function(t){c||(c=!0,a[i]=t,--f||r(a))}),s)})),--f||r(a)}));return f.error&&s(f.value),e.promise}})},function(t,n,e){var r=e(6),o=e(37),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,n,e){var r=e(0),o=e(7),i=e(21),a=e(8),u=e(49),c=e(120),s=r.TypeError;t.exports=function(t,n){var e=arguments.length<2?c(t):n;if(i(e))return a(o(e,t));throw s(u(t)+" is not iterable")}},function(t,n,e){var r=e(7),o=e(8),i=e(48);t.exports=function(t,n,e){var a,u;o(t);try{if(!(a=i(t,"return"))){if("throw"===n)throw e;return e}a=r(a,t)}catch(t){u=!0,a=t}if("throw"===n)throw e;if(u)throw a;return o(a),e}},function(t,n,e){var r=e(6)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var e=!1;try{var i={};i[r]=function(){return{next:function(){return{done:e=!0}}}},t(i)}catch(t){}return e}},function(t,n,e){"use strict";var r=e(4),o=e(18),i=e(35).CONSTRUCTOR,a=e(27),u=e(17),c=e(3),s=e(14),f=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&c(a)){var l=u("Promise").prototype.catch;f.catch!==l&&s(f,"catch",l,{unsafe:!0})}},function(t,n,e){"use strict";var r=e(4),o=e(7),i=e(21),a=e(36),u=e(84),c=e(119);r({target:"Promise",stat:!0,forced:e(121)},{race:function(t){var n=this,e=a.f(n),r=e.reject,s=u((function(){var a=i(n.resolve);c(t,(function(t){o(a,n,t).then(e.resolve,r)}))}));return s.error&&r(s.value),e.promise}})},function(t,n,e){"use strict";var r=e(4),o=e(7),i=e(36);r({target:"Promise",stat:!0,forced:e(35).CONSTRUCTOR},{reject:function(t){var n=i.f(this);return o(n.reject,void 0,t),n.promise}})},function(t,n,e){"use strict";var r=e(4),o=e(17),i=e(18),a=e(27),u=e(35).CONSTRUCTOR,c=e(122),s=o("Promise"),f=i&&!u;r({target:"Promise",stat:!0,forced:i||u},{resolve:function(t){return c(f&&this===s?a:this,t)}})},function(t,n,e){"use strict";var r=e(38).forEach,o=e(190)("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,n,e){"use strict";var r=e(2);t.exports=function(t,n){var e=[][t];return!!e&&r((function(){e.call(null,n||function(){return 1},1)}))}},function(t,n,e){"use strict";var r=e(4),o=e(0),i=e(78),a=e(79),u=e(12),c=e(53),s=e(24),f=e(26),l=e(81),p=e(6),d=e(34),h=e(117),v=d("slice"),y=p("species"),g=o.Array,b=Math.max;r({target:"Array",proto:!0,forced:!v},{slice:function(t,n){var e,r,o,p=f(this),d=s(p),v=c(t,d),x=c(void 0===n?d:n,d);if(i(p)&&(e=p.constructor,(a(e)&&(e===g||i(e.prototype))||u(e)&&null===(e=e[y]))&&(e=void 0),e===g||void 0===e))return h(p,v,x);for(r=new(void 0===e?g:e)(b(x-v,0)),o=0;v<x;v++,o++)v in p&&l(r,o,p[v]);return r.length=o,r}})},function(t,n){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i=[],a=!0,u=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==e.return||e.return()}finally{if(u)throw o}}return i}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,e){var r=e(10),o=e(109),i=e(13),a=e(8),u=e(26),c=e(127);n.f=r&&!o?Object.defineProperties:function(t,n){a(t);for(var e,r=u(n),o=c(n),s=o.length,f=0;s>f;)i.f(t,e=o[f++],r[e]);return t}},function(t,n,e){"use strict";var r=e(131).IteratorPrototype,o=e(61),i=e(44),a=e(83),u=e(37),c=function(){return this};t.exports=function(t,n,e,s){var f=n+" Iterator";return t.prototype=o(r,{next:i(+!s,e)}),a(t,f,!1,!0),u[f]=c,t}},function(t,n,e){var r=e(2);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,n,e){"use strict";var r=e(4),o=e(38).findIndex,i=e(60),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},function(t,n,e){"use strict";var r=e(4),o=e(38).find,i=e(60),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(t,n,e){var r=e(2),o=e(0).RegExp,i=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),u=i||r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:u,MISSED_STICKY:a,UNSUPPORTED_Y:i}},function(t,n,e){var r=e(2),o=e(0).RegExp;t.exports=r((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,n,e){var r=e(2),o=e(0).RegExp;t.exports=r((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,n,e){"use strict";var r=e(4),o=e(204);r({target:"String",proto:!0,forced:e(205)("link")},{link:function(t){return o(this,"a","href",t)}})},function(t,n,e){var r=e(5),o=e(32),i=e(29),a=/"/g,u=r("".replace);t.exports=function(t,n,e,r){var c=i(o(t)),s="<"+n;return""!==e&&(s+=" "+e+'="'+u(i(r),a,"&quot;")+'"'),s+">"+c+"</"+n+">"}},function(t,n,e){var r=e(2);t.exports=function(t){return r((function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}))}},function(t,n,e){"use strict";var r=e(7),o=e(207),i=e(8),a=e(111),u=e(29),c=e(32),s=e(48),f=e(208),l=e(209);o("match",(function(t,n,e){return[function(n){var e=c(this),o=null==n?void 0:s(n,t);return o?r(o,n,e):new RegExp(n)[t](u(e))},function(t){var r=i(this),o=u(t),c=e(n,r,o);if(c.done)return c.value;if(!r.global)return l(r,o);var s=r.unicode;r.lastIndex=0;for(var p,d=[],h=0;null!==(p=l(r,o));){var v=u(p[0]);d[h]=v,""===v&&(r.lastIndex=f(o,a(r.lastIndex),s)),h++}return 0===h?null:d}]}))},function(t,n,e){"use strict";e(30);var r=e(5),o=e(14),i=e(86),a=e(2),u=e(6),c=e(23),s=u("species"),f=RegExp.prototype;t.exports=function(t,n,e,l){var p=u(t),d=!a((function(){var n={};return n[p]=function(){return 7},7!=""[t](n)})),h=d&&!a((function(){var n=!1,e=/a/;return"split"===t&&((e={}).constructor={},e.constructor[s]=function(){return e},e.flags="",e[p]=/./[p]),e.exec=function(){return n=!0,null},e[p](""),!n}));if(!d||!h||e){var v=r(/./[p]),y=n(p,""[t],(function(t,n,e,o,a){var u=r(t),c=n.exec;return c===i||c===f.exec?d&&!a?{done:!0,value:v(n,e,o)}:{done:!0,value:u(e,n,o)}:{done:!1}}));o(String.prototype,t,y[0]),o(f,p,y[1])}l&&c(f[p],"sham",!0)}},function(t,n,e){"use strict";var r=e(134).charAt;t.exports=function(t,n,e){return n+(e?r(t,n).length:1)}},function(t,n,e){var r=e(0),o=e(7),i=e(8),a=e(3),u=e(31),c=e(86),s=r.TypeError;t.exports=function(t,n){var e=t.exec;if(a(e)){var r=o(e,t,n);return null!==r&&i(r),r}if("RegExp"===u(t))return o(c,t,n);throw s("RegExp#exec called on incompatible receiver")}},function(t,n,e){"use strict";var r=e(52).PROPER,o=e(14),i=e(8),a=e(29),u=e(2),c=e(211),s=RegExp.prototype.toString,f=u((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),l=r&&"toString"!=s.name;(f||l)&&o(RegExp.prototype,"toString",(function(){var t=i(this);return"/"+a(t.source)+"/"+a(c(t))}),{unsafe:!0})},function(t,n,e){var r=e(7),o=e(11),i=e(45),a=e(87),u=RegExp.prototype;t.exports=function(t){var n=t.flags;return void 0!==n||"flags"in u||o(t,"flags")||!i(u,t)?n:r(a,t)}},function(t,n,e){var r=e(10),o=e(13),i=e(87),a=e(2),u=RegExp.prototype;r&&a((function(){return"sy"!==Object.getOwnPropertyDescriptor(u,"flags").get.call({dotAll:!0,sticky:!0})}))&&o.f(u,"flags",{configurable:!0,get:i})},function(t,n,e){var r=e(129);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,e){var r=e(4),o=e(217),i=e(60);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,n,e){"use strict";var r=e(22),o=e(53),i=e(24);t.exports=function(t){for(var n=r(this),e=i(n),a=arguments.length,u=o(a>1?arguments[1]:void 0,e),c=a>2?arguments[2]:void 0,s=void 0===c?e:o(c,e);s>u;)n[u++]=t;return n}},function(t,n,e){var r=e(219),o=e(249),i=e(140),a=e(251),u=e(261),c=e(264),s=e(265),f=e(266),l=e(268),p=e(269),d=e(270),h=e(98),v=e(275),y=e(276),g=e(282),b=e(91),x=e(143),m=e(284),w=e(40),S=e(286),j=e(90),O=e(96),A={};A["[object Arguments]"]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A["[object Object]"]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A["[object Function]"]=A["[object WeakMap]"]=!1,t.exports=function t(n,e,R,E,T,P){var I,N=1&e,_=2&e,C=4&e;if(R&&(I=T?R(n,E,T,P):R(n)),void 0!==I)return I;if(!w(n))return n;var k=b(n);if(k){if(I=v(n),!N)return s(n,I)}else{var M=h(n),D="[object Function]"==M||"[object GeneratorFunction]"==M;if(x(n))return c(n,N);if("[object Object]"==M||"[object Arguments]"==M||D&&!T){if(I=_||D?{}:g(n),!N)return _?l(n,u(I,n)):f(n,a(I,n))}else{if(!A[M])return T?n:{};I=y(n,M,N)}}P||(P=new r);var L=P.get(n);if(L)return L;P.set(n,I),S(n)?n.forEach((function(r){I.add(t(r,e,R,r,n,P))})):m(n)&&n.forEach((function(r,o){I.set(o,t(r,e,R,o,n,P))}));var F=k?void 0:(C?_?d:p:_?O:j)(n);return o(F||n,(function(r,o){F&&(r=n[o=r]),i(I,o,t(r,e,R,o,n,P))})),I}},function(t,n,e){var r=e(62),o=e(225),i=e(226),a=e(227),u=e(228),c=e(229);function s(t){var n=this.__data__=new r(t);this.size=n.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=u,s.prototype.set=c,t.exports=s},function(t,n){t.exports=function(){this.__data__=[],this.size=0}},function(t,n,e){var r=e(63),o=Array.prototype.splice;t.exports=function(t){var n=this.__data__,e=r(n,t);return!(e<0)&&(e==n.length-1?n.pop():o.call(n,e,1),--this.size,!0)}},function(t,n,e){var r=e(63);t.exports=function(t){var n=this.__data__,e=r(n,t);return e<0?void 0:n[e][1]}},function(t,n,e){var r=e(63);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,n,e){var r=e(63);t.exports=function(t,n){var e=this.__data__,o=r(e,t);return o<0?(++this.size,e.push([t,n])):e[o][1]=n,this}},function(t,n,e){var r=e(62);t.exports=function(){this.__data__=new r,this.size=0}},function(t,n){t.exports=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}},function(t,n){t.exports=function(t){return this.__data__.get(t)}},function(t,n){t.exports=function(t){return this.__data__.has(t)}},function(t,n,e){var r=e(62),o=e(88),i=e(236);t.exports=function(t,n){var e=this.__data__;if(e instanceof r){var a=e.__data__;if(!o||a.length<199)return a.push([t,n]),this.size=++e.size,this;e=this.__data__=new i(a)}return e.set(t,n),this.size=e.size,this}},function(t,n,e){var r=e(137),o=e(233),i=e(40),a=e(139),u=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,f=c.toString,l=s.hasOwnProperty,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:u).test(a(t))}},function(t,n,e){var r=e(89),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var n=i.call(t,u),e=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(n?t[u]=e:delete t[u]),o}},function(t,n){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},function(t,n,e){var r,o=e(234),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,n,e){var r=e(16)["__core-js_shared__"];t.exports=r},function(t,n){t.exports=function(t,n){return null==t?void 0:t[n]}},function(t,n,e){var r=e(237),o=e(244),i=e(246),a=e(247),u=e(248);function c(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},function(t,n,e){var r=e(238),o=e(62),i=e(88);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,n,e){var r=e(239),o=e(240),i=e(241),a=e(242),u=e(243);function c(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},function(t,n,e){var r=e(65);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,n){t.exports=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}},function(t,n,e){var r=e(65),o=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;if(r){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return o.call(n,t)?n[t]:void 0}},function(t,n,e){var r=e(65),o=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;return r?void 0!==n[t]:o.call(n,t)}},function(t,n,e){var r=e(65);t.exports=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=r&&void 0===n?"__lodash_hash_undefined__":n,this}},function(t,n,e){var r=e(66);t.exports=function(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}},function(t,n){t.exports=function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}},function(t,n,e){var r=e(66);t.exports=function(t){return r(this,t).get(t)}},function(t,n,e){var r=e(66);t.exports=function(t){return r(this,t).has(t)}},function(t,n,e){var r=e(66);t.exports=function(t,n){var e=r(this,t),o=e.size;return e.set(t,n),this.size+=e.size==o?0:1,this}},function(t,n){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}},function(t,n,e){var r=e(25),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,n,e){var r=e(67),o=e(90);t.exports=function(t,n){return t&&r(n,o(n),t)}},function(t,n){t.exports=function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}},function(t,n,e){var r=e(254),o=e(41),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=c},function(t,n,e){var r=e(64),o=e(41);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,n){t.exports=function(){return!1}},function(t,n){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},function(t,n,e){var r=e(258),o=e(93),i=e(94),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},function(t,n,e){var r=e(64),o=e(144),i=e(41),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,n,e){var r=e(95),o=e(260),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var n=[];for(var e in Object(t))i.call(t,e)&&"constructor"!=e&&n.push(e);return n}},function(t,n,e){var r=e(145)(Object.keys,Object);t.exports=r},function(t,n,e){var r=e(67),o=e(96);t.exports=function(t,n){return t&&r(n,o(n),t)}},function(t,n,e){var r=e(40),o=e(95),i=e(263),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var n=o(t),e=[];for(var u in t)("constructor"!=u||!n&&a.call(t,u))&&e.push(u);return e}},function(t,n){t.exports=function(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}},function(t,n,e){(function(t){var r=e(16),o=n&&!n.nodeType&&n,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,n){if(n)return t.slice();var e=t.length,r=u?u(e):new t.constructor(e);return t.copy(r),r}}).call(this,e(92)(t))},function(t,n){t.exports=function(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}},function(t,n,e){var r=e(67),o=e(97);t.exports=function(t,n){return r(t,o(t),n)}},function(t,n){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length,o=0,i=[];++e<r;){var a=t[e];n(a,e,t)&&(i[o++]=a)}return i}},function(t,n,e){var r=e(67),o=e(148);t.exports=function(t,n){return r(t,o(t),n)}},function(t,n,e){var r=e(151),o=e(97),i=e(90);t.exports=function(t){return r(t,i,o)}},function(t,n,e){var r=e(151),o=e(148),i=e(96);t.exports=function(t){return r(t,i,o)}},function(t,n,e){var r=e(25)(e(16),"DataView");t.exports=r},function(t,n,e){var r=e(25)(e(16),"Promise");t.exports=r},function(t,n,e){var r=e(25)(e(16),"Set");t.exports=r},function(t,n,e){var r=e(25)(e(16),"WeakMap");t.exports=r},function(t,n){var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,n,e){var r=e(99),o=e(278),i=e(279),a=e(280),u=e(281);t.exports=function(t,n,e){var c=t.constructor;switch(n){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return o(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,e);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return i(t);case"[object Set]":return new c;case"[object Symbol]":return a(t)}}},function(t,n,e){var r=e(16).Uint8Array;t.exports=r},function(t,n,e){var r=e(99);t.exports=function(t,n){var e=n?r(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}},function(t,n){var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},function(t,n,e){var r=e(89),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,n,e){var r=e(99);t.exports=function(t,n){var e=n?r(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}},function(t,n,e){var r=e(283),o=e(150),i=e(95);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,n,e){var r=e(40),o=Object.create,i=function(){function t(){}return function(n){if(!r(n))return{};if(o)return o(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();t.exports=i},function(t,n,e){var r=e(285),o=e(93),i=e(94),a=i&&i.isMap,u=a?o(a):r;t.exports=u},function(t,n,e){var r=e(98),o=e(41);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,n,e){var r=e(287),o=e(93),i=e(94),a=i&&i.isSet,u=a?o(a):r;t.exports=u},function(t,n,e){var r=e(98),o=e(41);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return wt}));var r=e(68),o=e.n(r),i=e(9),a=(e(101),e(15),e(19),e(28),e(57),e(123),e(1)),u=e.n(a),c=(e(39),e(58),e(59),e(191),"ANNOTATIONSETCOLOR"),s="ANNOTATIONSETOPACITY",f="ANNOTATIONSETFILLCOLOR",l="ANNOTATIONSETBORDERWIDTH",p="ANNOTATIONSETBORDERSTYLE",d="ANNOTATIONSETENDINGSTYLE",h="ANNOTATIONENABLECAPTION",v="ANNOTATIONSETROTATION",y="ANNOTATIONSETHIGHLIGHTINGMODE",g="REMOVEANNOT",b="ADDANNOT",x="ANNOTATIONSETRECT",m="ANNOTATION_MOVE_TO",w="ANNOTATION_SET_RECT",S="UPDATEQUADPOINTSBYCHARINDEX",j="ANNOTATIONUPDATECALLOUTPOINTS",O="ANNOTATIONUPDATELINEPOINTS",A="ANNOTATIONSETLEADERLINELENGTH",R="ANNOTATIONUPDATEVERTEXES",E="ANNOTATIONSETCONTENT",T="ANNOTATIONPLACEREDACT",P="ANNOTATIONADDREPLY",I="ANNOTATIONDELETEREPLY",N="ANNOTATIONADDACTION",_="ANNOTATIONERASER",C="ANNOTATIONMARKREDACTANNOT",k="ANNOTATIONMAKEREDACTBYPAGES",M="MARKCHECKEDRESULTREDACTION",D="ADDREVIEWSTATE",L="ADD_MARKED_STATE",F="DEFAULTAP",V="moveAnnotsCrossPage",U="ANNOTATIONUPDATECAPTIONOFFSET",B="Group",G="FlipPoint",z="SETICONNAME",H=i.PDFViewCtrl.Deps.jQuery,W=i.UIEvents,q=function(){function t(t,n){this.pdfViewer=t,this.controller=n}var n=t.prototype;return n.init=function(){var t,n=this.controller,e=this.pdfViewer,r=void 0,i=0,a=this.resetMergeStatus=function(){r=void 0,i=0,t=void 0};e.registerMatchRule((function(b,P){function I(o,u){if(!e.customs.pushUndoStack||e.customs.pushUndoStack(o,u))return n.create("annot",o,u,function(){if(i++,!r)return r=b,t||(t=e.getAllActivatedElements().map((function(t){return t.annot})).filter(Boolean).filter((function(t){return"widget"!==t.getType()}))),0===t.length||-1===t.indexOf(b)?(i--,r=void 0,t=void 0):t.length===i&&a(),!1;-1===t.indexOf(b)&&i--;var n=t.length;return i===n?(a(),!0):n>1}())}return function(r){function i(){for(var t,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(t=r.call.apply(r,[this].concat(e))||this).undoRedoDataRecord={},t}o()(i,r);var a=i.prototype;return a.setColor=function(t){var n=this,e=this.annot.getBorderColor();return r.prototype.setColor.call(this,t).then((function(t){var r=n.annot.getBorderColor();return I(c,{annot:n.annot,oldColor:e,newColor:r}),t}))},a.setOpacity=function(t){var n=this,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e&&o&&I(s,{annot:this.annot,oldOpacity:o.oldValue,newOpacity:o.commitValue});var i=this.annot.getOpacity();return r.prototype.setOpacity.call(this,t).then((function(t){var r=n.annot.getOpacity();return e&&!o&&I(s,{annot:n.annot,oldOpacity:i,newOpacity:r}),t}))},a.setFillColor=function(t){var n=this,e=this.annot.getStyleFillColor||this.annot.getFillColor,o=e.call(this.annot);return r.prototype.setFillColor.call(this,t).then((function(t){var r=e.call(n.annot);return I(f,{annot:n.annot,oldFillColor:o,newFillColor:r}),t}))},a.setBorderWidth=function(t){var n=this,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e&&o&&I(l,{annot:this.annot,oldBorderWidth:o.oldValue,newBorderWidth:o.commitValue});var i=this.annot.getBorderWidth();return r.prototype.setBorderWidth.call(this,t).then((function(t){var r=n.annot.getBorderWidth();return e&&!o&&I(l,{annot:n.annot,oldBorderWidth:i,newBorderWidth:r}),t}))},a.setBorderStyle=function(t,n){var e=this,o=this.annot.getBorderStyleWithParam();return r.prototype.setBorderStyle.call(this,t,n).then((function(t){var n=e.annot.getBorderStyleWithParam();return I(p,{annot:e.annot,oldBorderStyle:o,newBorderStyle:n}),t}))},a.flip=function(t){var e=this;return this.annot.flip().then((function(r){return n.create("annot",G,{annot:e.annot},t),r}))},a.setEndingStyle=function(t,e){var o,i=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=(o=t?this.annot.getStartStyle||this.annot.getCalloutLineEndingStyle:this.annot.getEndingStyle).call(this.annot);return r.prototype.setEndingStyle.call(this,t,e).then((function(e){var r=o.call(i.annot);return n.create("annot",d,{annot:i.annot,isStart:t,oldStyle:u,newStyle:r},a),e}))},a.enableCaption=function(t){var n=this,e=this.annot.hasCaption();return r.prototype.enableCaption.call(this,t).then((function(t){var r=n.annot.hasCaption();return I(h,{annot:n.annot,oldEnableCaption:e,newEnableCaption:r}),t}))},a.setRotation=function(t){var n=this,e=this.annot.getRotation(),o=this.annot.getRect();return r.prototype.setRotation.call(this,t).then((function(t){var r=n.annot.getRotation(),i=n.annot.getRect();return I(v,{annot:n.annot,oldRotation:e,newRotation:r,oldRect:o,newRect:i}),t}))},a.setHighlightingMode=function(t){var n=this,e=this.annot.getHighlightingMode();return r.prototype.setHighlightingMode.call(this,t).then((function(t){var r=n.annot.getHighlightingMode();return I(y,{annot:n.annot,oldHlMode:e,newHlMode:r}),t}))},a.removeAnnot=function(){var n=this.annot,o=(n.getName(),n.info.type),i=!("sound"===o||"widget"===o||"watermark"===o);return i&&!t&&(t=e.getAllActivatedElements().map((function(t){return t.annot})).filter(Boolean)).slice(0).forEach((function(n){var e=n.getGroupHeader&&n.getGroupHeader();if(e!==n){var r=t.indexOf(e);r>-1&&t.splice(r,1)}})),r.prototype.removeAnnot.call(this).then((function(t){i&&t&&t.length>0&&I(g,[t,n]);return t}))},a.textBoundaryStart=function(){this.undoRedoDataRecord[S]={annot:this.annot,oldStart:this.annot.getStartCharIndex(),oldEnd:this.annot.getEndCharIndex()}},a.textBoundaryEnd=function(){var t=this.undoRedoDataRecord[S],n=u()({},t,{annot:this.annot,newStart:this.annot.getStartCharIndex(),newEnd:this.annot.getEndCharIndex()});I(S,n)},a.onStartUpdateShape=function(t){if(this.isCallingOnShapeUpdate=!0,"resize"===t&&"freetext"===this.annot.getType()&&this.annot.getIntent&&"FreeTextCallout"===this.annot.getIntent())this.undoRedoDataRecord[j]={annot:this.annot,oldRect:this.annot.getRect(),oldCalloutLinePoints:this.annot.getCalloutLinePoints(),oldInnerRect:this.annot.getInnerRect()};else{var n=this.annot.getType();"square"===n||"circle"===n||"freetext"===n&&this.annot.getIntent&&"FreeTextTextbox"===this.annot.getIntent()?this.undoRedoDataRecord[x]={annot:this.annot,oldRect:this.annot.getRect(),oldInnerRect:this.annot.getInnerRect()}:this.undoRedoDataRecord[x]={annot:this.annot,oldRect:this.annot.getRect()}}return r.prototype.onStartUpdateShape.apply(this,arguments)},a.onShapeUpdateEnd=function(t,n,e){var o=this,i=r.prototype.onShapeUpdateEnd.apply(this,arguments);return i.finally((function(){o.isCallingOnShapeUpdate=!1})),"resize"===e&&"freetext"===this.annot.getType()&&this.annot.getIntent&&"FreeTextCallout"===this.annot.getIntent()?i.then((function(){var t=o.undoRedoDataRecord[j],n=u()({},t,{annot:o.annot,newRect:o.annot.getRect(),newCalloutLinePoints:o.annot.getCalloutLinePoints(),newInnerRect:o.annot.getInnerRect()});I(j,n)})):i.then((function(){var t,n=o.undoRedoDataRecord[x],e=o.annot.getType();t="square"===e||"circle"===e||"freetext"===e&&o.annot.getIntent&&"FreeTextTextbox"===o.annot.getIntent()?u()({},n,{annot:o.annot,newRect:o.annot.getRect(),newInnerRect:o.annot.getInnerRect()}):u()({},n,{annot:o.annot,newRect:o.annot.getRect()}),I(x,t)}))},a.moveTo=function(t,n,e,o){var i=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=this.annot.getRect(),c=this.getPDFPage(),s=t,f=n;if(!a){var l=c.reverseDevicePoint([t,n],this.scale,this.rotate);s=l[0],f=l[1]}var p=r.prototype.moveTo.apply(this,arguments);return p.then((function(t){return i.isCallingOnShapeUpdate||I(m,{annot:i.annot,originLeft:u.left,originTop:u.top,left:s,top:f,action:e,apply:o}),t}))},a.setRect=function(t){var n=this,e=this.annot.getRect(),o=this.getPDFPage(),i=o.reverseDeviceRect({left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height},this.scale,this.rotate),a=r.prototype.setRect.apply(this,arguments);return a.then((function(t){return n.isCallingOnShapeUpdate||I(w,{annot:n.annot,originRect:e,newRect:i}),t}))},a.boundaryChangeStart=function(t){if("line"===this.annot.getType())switch(H(t.target).data("index")){case 0:case 1:this.undoRedoDataRecord[O]={annot:this.annot,oldStartPoint:this.annot.getStartPoint(),oldEndPoint:this.annot.getEndPoint()};break;case 2:case 3:this.undoRedoDataRecord[A]={annot:this.annot,oldLeaderLinePoints:this.annot.getLeaderLinePoints(),oldStartPoint:this.annot.getStartPoint(),oldEndPoint:this.annot.getEndPoint()};break;case"caption":this.undoRedoDataRecord[U]={annot:this.annot,oldCaptionOffset:this.annot.getCaptionOffset()}}else this.undoRedoDataRecord[R]={annot:this.annot,oldVertexes:this.annot.getVertexes(),oldIndex:H(t.target).data("index")}},a.boundaryChangeEnd=function(t){var n=H(t.target).data("index")||H(t.target).parent().data("index");if("line"===this.annot.getType())switch(n){case 0:case 1:var e=this.undoRedoDataRecord[O],r=u()({},e,{annot:this.annot,newStartPoint:this.annot.getStartPoint(),newEndPoint:this.annot.getEndPoint()});I(O,r);break;case 2:case 3:var o=this.undoRedoDataRecord[A],i=u()({},o,{annot:this.annot,newLeaderLinePoints:this.annot.getLeaderLinePoints(),newStartPoint:this.annot.getStartPoint(),newEndPoint:this.annot.getEndPoint()});I(A,i);break;case"caption":var a=this.undoRedoDataRecord[U],c=u()({},a,{annot:this.annot,newCaptionOffset:this.annot.getCaptionOffset()});I(U,c)}else{var s=this.undoRedoDataRecord[R],f=u()({},s,{annot:this.annot,newVertexes:this.annot.getVertexes(),newIndex:n});I(R,f)}},a.setContent=function(t){var n=this,e=this.annot.getContent();return r.prototype.setContent.call(this,t).then((function(t){var r=n.annot.getContent();if(r!==e)if("freetext"===n.annot.getType()){var o=n.annot.getInnerRect(),i=n.annot.getRect(),a=n.annot.getCalloutLinePoints();I(E,{annot:n.annot,oldContent:e,newContent:r,oldInnerRect:n.oldInnerRect,newInnerRect:o,oldRect:n.oldRect,newRect:i,oldCalloutLinePoints:n.oldCalloutLinePoints,newCalloutLinePoints:a})}else I(E,{annot:n.annot,oldContent:e,newContent:r});return t}))},a.placeRedact=function(t){return r.prototype.placeRedact.call(this,t).then((function(t){var n=[];return t.map((function(t){var e=t[0];n.push(e)})),I(T,{redacts:n}),t}))},a.setDefaultAppearance=function(t,n){var e=this,o=this.annot.getDefaultAppearance();return r.prototype.setDefaultAppearance.call(this,t,n).then((function(t){var n=e.annot.getDefaultAppearance();I(F,{annot:e.annot,oldDA:o,newDA:n})}))},i}(P)})),this.bindEvent()},n.bindEvent=function(){var t=this.controller,n=this.pdfViewer;function e(n,e){t.create("annot",n,e)}n.eventEmitter.on(W.addReplySuccess,(function(t,n){"sound"!==t.info.type&&e(P,{annot:t,replyAnnot:n})})),n.eventEmitter.on(W.deleteReplySuccess,(function(t,n){e(I,{annot:t,replyAnnot:n})})),n.eventEmitter.on("annot-group-event",(function(t,n,r){e(B,{page:t,annotIds:n,isGroup:r})})),n.eventEmitter.on(W.addActionSuccess,(function(t){e(N,{annot:t})})),n.eventEmitter.on(W.eraserSuccess,(function(t,n){e(_,{beforeInks:t,afterInks:n})})),n.eventEmitter.on(W.addAnnotSuccess,(function(t){e(b,{annot:t})})),n.eventEmitter.on(W.applyRedaction,(function(n){t.clear()})),n.eventEmitter.on(W.addContentSuccess,(function(t,n,r){e(E,{annot:t,oldContent:n,newContent:r})})),n.eventEmitter.on(W.cancelAddAnnot,(function(){t.popUndoStack()})),n.eventEmitter.on("markRedactAnnotSuccess",(function(t){e(C,{annot:t})})),n.eventEmitter.on("makeRedactByPagesSuccess",(function(t){e(k,{redacts:t})})),n.eventEmitter.on(W.markRedactionSuccess,(function(t){e(M,{redacts:t})})),n.eventEmitter.on(W.addReviewStateSuccess,(function(t,n){"sound"!==t.info.type&&e(D,{annot:t,stateName:n.getState()})})),n.eventEmitter.on(W.annotationMarkedStateAnnotAdd,(function(t,n,r){r||e(L,{annot:n,stateName:t.getState()})})),n.eventEmitter.on(W.moveAnnotsToPages,(function(t,n,r,o){o&&e(V,{srcPage:t,destPage:n,annots:r})})),n.eventEmitter.on("setNoteIconName",(function(t,n,r){e(z,{annot:t,oldIconName:n,newIconName:r})}));var r=function(){return t.clear()};n.eventEmitter.on(W.importPages,r),n.eventEmitter.on(W.pageAdded,r),n.eventEmitter.on(W.pageRemoved,r),n.eventEmitter.on(W.pagesRemoved,r),n.eventEmitter.on(W.pageRotationChange,r),n.eventEmitter.on(W.pagesRotated,r),n.eventEmitter.on(W.pageMoved,r),n.eventEmitter.on(W.pagesMoved,r)},t}(),Y=function(){function t(){this.stackArray=[]}var n=t.prototype;return n.push=function(t){this.stackArray.push(t)},n.pop=function(){return this.stackArray.pop()},n.size=function(){return this.stackArray.length},n.clear=function(){var t=this,n=this.stackArray,e=[];return this.stackArray=e,function(){t.stackArray===e&&(t.stackArray=n)}},n.filter=function(t){this.stackArray=this.stackArray.filter(t)},t}(),$=function(){function t(t,n){this.pdfViewer=t,this.controller=n,this.undoStack=new Y,this.redoStack=new Y}var n=t.prototype;return n.storage=function(t){var n=this;return this.undoStack.push(t),function(){var e=n.undoStack.indexOf(t);e>-1&&n.undoStack.splice(e,1)}},n.mergeLast=function(t){var n=this,e=this.undoStack.pop();if(e){var r=this.doMerge(e,t);return this.undoStack.push(r),function(){var t=n.undoStack.indexOf(r);t>-1&&(n.undoStack[t]=e)}}return this.storage(t)},n.doMerge=function(t,n){return{undo:function(){return Promise.resolve(t.undo()).finally((function(){return n.undo()}))},redo:function(){return Promise.resolve(t.redo()).finally((function(){return n.redo()}))}}},n.undo=function(){var t=this.undoStack.pop();if(t)return this.redoStack.push(t),t},n.redo=function(){var t=this.redoStack.pop();if(t)return this.undoStack.push(t),t},n.removeById=function(t){this.undoStack.filter((function(n){return t!==n.uniqueId})),this.redoStack.filter((function(n){return t!==n.uniqueId}))},n.removeByName=function(t){this.undoStack.filter((function(n){if(n.annot)return t!==n.annot.info.name})),this.redoStack.filter((function(n){if(n.annot)return t!==n.annot.info.name}))},n.clear=function(){this.undoStack.clear(),this.redoStack.clear()},n.getUndoStack=function(){return this.undoStack},n.getRedoStack=function(){return this.redoStack},t}(),K=(e(126),e(100)),J=e.n(K),X=(e(85),e(133),e(135),e(198),e(199),e(30),e(203),e(206),e(210),i.PDFViewCtrl.Consts.BORDER_STYLE),Q=function(){function t(t){var n=function(t){var n,e,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HTML",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,u="";"number"==typeof t&&(t=["int",t]);switch(t[0]){case"int":n=(16711680&t[1])>>16,e=(65280&t[1])>>8,r=255&t[1];break;case"T":n=0,e=0,r=0,a=0;break;case"G":n=e=r=255*t[1];break;case"RGB":n=255*t[1],e=255*t[2],r=255*t[3];break;case"CMYK":n=(1-t[4])*(1-t[1])*255,e=(1-t[4])*(1-t[2])*255,r=(1-t[4])*(1-t[3])*255;break;case"r":o=t.match(/rgba?\((\d*),\s*(\d*),\s*(\d*),?\s*([\.0-9]*)?\)/),n=+o[1],e=+o[2],r=+o[3];break;case"#":var c=4==t.length?/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/:/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/;o=t.match(c),n=parseInt(o[1],16),e=parseInt(o[2],16),r=parseInt(o[3],16);break;default:throw new Error("Unsupported color format")}switch(i){case"HTML":u=n===e&&e===r&&-1===r?"transparent":"rgba("+parseInt(n)+","+parseInt(e)+","+parseInt(r)+","+a+")";break;case"RGB":u=["RGB",n/255,e/255,r/255];break;case"#":u+=n<16?"#0"+n.toString(16):"#"+n.toString(16),u+=e<16?"0"+e.toString(16):e.toString(16),u+=r<16?"0"+r.toString(16):r.toString(16);break;case"int":u=0,u|=(a*=255)<<24,u|=n<<16,u|=e<<8,u|=r,u>>>=0}return u}(t.info.borderColor,"int");this.json={objectNumber:t.info.objectNumber,name:t.getName(),flags:t.info.flag,rect:t.info.rect,color:n,style:t.info.borderInfo.style,contents:t.info.content,date:new Date(t.info.modifiedTimestamp).getTime(),type:t.info.type,borderWidth:t.info.borderInfo.width},t.info.isMarkup&&this.markup(t);var e=t.info.type;switch("strikeout"!==e&&"highlight"!==e&&"squiggly"!==e&&"underline"!==e||this.textMarkup(t),e){case"ink":this.ink(t);break;case"fileattachment":this.fileattachment(t);break;case"polygon":this.polygon(t);break;case"polyline":this.polyline(t);break;case"stamp":this.stamp(t);break;case"freetext":this.freetext(t);break;case"screen":this.screen(t);break;case"line":this.line(t);break;case"redact":this.redact(t);break;case"highlight":this.highlight(t);break;case"link":this.link(t);break;case"square":this.square(t);break;case"circle":this.circle(t)}}var n=t.prototype;return n.markup=function(t){var n="",e=!1;if(t.getPopup){var r=t.getPopup();r?(n=r.getName(),e=!1):e=!0}else e=!0;this.json=u()({intent:t.info.intent,opacity:t.info.opacity,subject:t.info.subject,title:t.info.title,creationTimestamp:new Date(t.info.creationTimestamp).getTime(),popId:n,noPopup:e},this.json)},n.textMarkup=function(t){var n=[];t.info.quadPoints.map((function(t){n.push({top:t[0].y,left:t[0].x,bottom:t[3].y,right:t[3].x})})),this.json=u()(this.json,{coords:n})},n.ink=function(t){this.json=u()({inkList:t.info.inkList},this.json)},n.fileattachment=function(t){this.json=u()({fObjNum:t.info.fObjNum},this.json)},n.polygon=function(t){var n=Z(t.info.borderInfo),e=t.info.measureRatio,r=t.info.measureUnit,o=null;e&&r&&(o={unit:r,ratio:e}),this.json=u()(this.json,{vertexes:t.info.vertexes,borderStyle:n.style,borderStyleParam:n.param,fillColor:t.info.fillColor,style:void 0,measure:o})},n.polyline=function(t){var n=Z(t.info.borderInfo),e=t.info.measureRatio,r=t.info.measureUnit,o=null;e&&r&&(o={unit:r,ratio:e}),this.json=u()(this.json,{vertexes:t.info.vertexes,fillColor:t.info.fillColor,borderStyle:n.style,borderStyleParam:n.param,style:void 0,startStyle:t.info.startStyle,endStyle:t.info.endingStyle,measure:o})},n.stamp=function(t){this.json=u()({icon:t.info.icon,rotate:(t.info.rotation+360)%360,apObjeNum:t.info.apObjeNum},this.json)},n.freetext=function(t){var n=Z(t.info.borderInfo),e="FreeTextTypewriter"==t.info.intent?0:t.info.fillColor;this.json=u()(this.json,{calloutLinePoints:t.info.calloutLinePoints,innerRect:t.info.innerRect,borderStyle:n.style,borderStyleParam:n.param,style:void 0,"interior-color":e,calloutLineEndingStyle:t.info.calloutLineEndingStyle,defaultAppearance:t.info.defaultAppearance,rotate:t.info.rotation})},n.line=function(t){var n=Z(t.info.borderInfo),e=t.info.measureRatio,r=t.info.measureUnit,o=null;e&&r&&(o={unit:r,ratio:e});var i=t.info.startPoint,a=t.info.endPoint;this.json=u()(this.json,{styleFillColor:t.info.styleFillColor,startStyle:t.info.startStyle,endStyle:t.info.endingStyle,enableCaption:t.info.hasCaption,startPoint:{x:i.x,y:i.y},endPoint:{x:a.x,y:a.y},measure:o,borderStyle:n.style,borderStyleParam:n.param,style:void 0})},n.screen=function(t){var n=Z(t.info.borderInfo);this.json=u()({apObjNum:t.info.apObjNum,opacity:t.info.opacity,rotate:{0:0,90:1,180:2,270:3}[t.info.rotation],iObjNum:t.info.iObjNum,aObjNum:t.info.aObjNum,intensity:n.param},this.json)},n.redact=function(t){var n=t.info.quadPoints,e=[];n.length>0?n.map((function(t){e.push({left:t[0].x,right:t[3].x,top:t[0].y,bottom:t[3].y})})):e.push(t.info.rect),this.json=u()(this.json,{rects:e,applyFillColor:t.info.applyFillColor})},n.highlight=function(t){t.info.isArea&&(this.json=u()(this.json,{coords:[t.info.rect],dicts:{AreaHi:"AreaHi"}}),delete this.json.startCharIndex,delete this.json.endCharIndex)},n.link=function(t){var n=Z(t.info.borderInfo);this.json=u()(this.json,{aObjNum:t.info.aObjNum,borderStyle:n.style,borderStyleParam:n.param,style:void 0,highlightingMode:t.info.highlightingMode})},n.circle=function(t){var n=Z(t.info.borderInfo),e=t.info.measureRatio,r=t.info.measureUnit,o=null;e&&r&&(o={unit:r,ratio:e}),this.json=u()(this.json,{fillColor:t.info.fillColor,borderStyle:n.style,borderStyleParam:n.param,style:void 0,measure:o})},n.square=function(t){var n=Z(t.info.borderInfo),e=t.info.measureRatio,r=t.info.measureUnit,o=null;e&&r&&(o={unit:r,ratio:e}),this.json=u()(this.json,{fillColor:t.info.fillColor,measure:o,borderStyle:n.style,borderStyleParam:n.param,style:void 0})},n.getJson=function(){return this.json},t}();function Z(t){var n,e=t.style,r=t.cloudIntensity,o=t.dashes;switch(e){case X.SOLID:n=[];break;case X.CLOUDY:n=r;break;case X.DASHED:n=o}return{style:e,param:n}}e(212);var tt=function(){function t(t){this.action=t,this.json={},this[t.type]()}var n=t.prototype;return n.TypeGoto=function(){var t=this.action.destination;this.json=u()(t,{type:t.zoomMode})},n.TypeURI=function(){var t=this.action.uri;this.json=u()({},{uri:t})},n.TypeJavaScript=function(){var t=this.action.javascript;this.json=u()({},{script:t})},n.TypeNamed=function(){var t=this.action.name;this.json=u()({},{name:t})},n.TypeHide=function(){var t=this.action,n=t.fieldNames,e=t.hideState;this.json=u()({},{fieldNames:n,hideState:e})},n.TypeSubmitForm=function(){var t=this.action,n=t.flags,e=t.url,r=t.fieldNames;this.json=u()({},{flags:n,url:e,fieldNames:r})},n.TypeResetForm=function(){var t=this.action,n=t.flags,e=t.fieldNames;this.json=u()({},{flags:n,fieldNames:e})},n.TypeGoToR=function(){var t=this.action,n=t.destinationName,e=t.destination;this.json=u()({},{destinationName:n,destination:e})},n.toJson=function(){return this.json},t}();e(20),e(152),e(216);var nt=e(42),et=e.n(nt),rt=(i.PDFViewCtrl.Consts.Intents,i.PDFViewCtrl.shared.QueuedAsyncTaskExecutor),ot=function(t,n,e,r,o,i,a,u,c,s,f,l,p,d,h,v,y,g,b,x,m,w,S,j,O,A,R,E,T,P,I,N,_,C,k,M){function D(t){this.pdfViewer=t,this.pdfViewer.recordsMap={}}var L=D.prototype;return L[t]=function(t){var n=t.annot,e=t.oldColor,r=t.newColor,o=this.pdfViewer;function i(t){return function(){var e=it(o,n);return-1===t&&(t=0),e.annot.setBorderColor(t).then((function(){e.updateRender()}))}}return{undo:i(e),redo:i(r)}},L[n]=function(t){var n=t.annot,e=t.oldOpacity,r=t.newOpacity,o=this.pdfViewer;function i(t){return function(){var e=it(o,n);return e.annot.setOpacity(t).then((function(){e.updateRender()}))}}return{undo:i(e),redo:i(r)}},L[e]=function(t){var n=t.annot,e=t.oldFillColor,r=t.newFillColor,o=this.pdfViewer;function i(t){return function(){var e=it(o,n);(e.annot.setStyleFillColor||e.annot.setFillColor).call(e.annot,t)}}return{undo:i(e),redo:i(r)}},L[r]=function(t){var n=t.annot,e=t.oldBorderWidth,r=t.newBorderWidth,o=this.pdfViewer;function i(t){return function(){return it(o,n).annot.setBorderWidth(t)}}return{undo:i(e),redo:i(r)}},L[o]=function(t){var n=t.annot,e=this.pdfViewer;function r(t){return function(){return it(e,t).annot.flip()}}return{undo:r(n),redo:r(n)}},L[i]=function(t){var n=t.annot,e=t.oldBorderStyle,r=t.newBorderStyle,o=this.pdfViewer;function i(t){return function(){return it(o,n).annot.setBorderStyle(t.style,t.param)}}return{undo:i(e),redo:i(r)}},L[a]=function(t){var n=t.annot,e=t.isStart,r=t.oldStyle,o=t.newStyle,i=this.pdfViewer;function a(t){return function(){var r=it(i,n);return r.annot.setCalloutLineEndingStyle?r.annot.setCalloutLineEndingStyle(+t).then((function(){r.redraw(),r.activeRect()})):r.annot.setEndingStyle(e,+t).then((function(){r.redraw(),r.activeRect()}))}}return{undo:a(r),redo:a(o)}},L[u]=function(t){var n=t.annot,e=t.oldEnableCaption,r=t.newEnableCaption,o=this.pdfViewer;function i(t){return function(){return it(o,n).annot.enableCaption(t)}}return{undo:i(e),redo:i(r)}},L[c]=function(t){var n=t.annot,e=t.oldRotation,r=t.newRotation,o=t.oldRect,i=t.newRect,a=this.pdfViewer;function u(t,e){return function(){var r=it(a,n);return"screen"===n.getType()?r.annot.setRect(e).then((function(n){if(n)return r.annot.setRotation((t+360)%360).then((function(){r.activeRect()}))})):r.annot.setRotation((t+360)%360).then((function(){r.activeRect()}))}}return{undo:u(e,o),redo:u(r,i)}},L[s]=function(t){var n=t.annot,e=t.oldHlMode,r=t.newHlMode,o=this.pdfViewer;function i(t){return function(){return it(o,n).annot.setHighlightingMode(t)}}return{undo:i(e),redo:i(r)}},L[f]=function(t){var n=J()(t,2),e=n[0],r=n[1],o=this.pdfViewer;return{undo:at(o,e,r),redo:ut(r,o)}},L[l]=function(t){var n=t.annot,e=this.pdfViewer,r=[n],o=n.getPopup&&n.getPopup();return o&&!o.isEmpty()&&r.push(o),n.isReplace&&n.isReplace()&&(r=n.getGroupElements().map((function(t){return t}))).push(n.getGroupHeader().getPopup()),{undo:ut(n,e),redo:at(e,r,n),annot:n}},L[p]=function(t){var n=t.annot,e=t.oldStart,r=t.oldEnd,o=t.newStart,i=t.newEnd,a=this.pdfViewer;function u(t,e){return function(){var r=it(a,n);return r.annot.updateQuadPointsByCharIndex(t,e).then((function(){if(r.redraw(),r.isReplace)return r.caretAnnot.moveRectByCharIndex(e).then((function(){r.getGroupRenders().map((function(t){t.active()}))}));r.active()}))}}return{undo:u(e,r),redo:u(o,i)}},L[d]=function(t){var n=t.annot,e=t.oldRect,r=t.newRect,o=t.oldInnerRect,i=t.newInnerRect,a=this.pdfViewer;function u(t,e){return function(){var r=it(a,n);return e?r.annot.setRectAndInnerRect(t,e).then((function(){r.redraw(),r.active()})):r.annot.setRect(t).then((function(){r.redraw(),r.active()}))}}return{undo:u(e,o),redo:u(r,i)}},L[h]=function(t){var n=t.annot,e=t.originRect,r=t.newRect,o=this.pdfViewer;function i(t){return function(){var e=it(o,n);return e.annot.setRect(t).then((function(){e.redraw(),e.active()}))}}return{undo:i(e),redo:i(r)}},L[v]=function(t){var n=t.annot,e=t.originLeft,r=t.originTop,o=t.left,i=t.top,a=this.pdfViewer;function u(t,e){return function(){var r=it(a,n);return r&&r.annot?r.annot.moveTo({left:t,top:e}).then((function(){r.redraw(),r.active()})):Promise.resolve()}}return{undo:u(e,r),redo:u(o,i)}},L[y]=function(t){var n=t.annot,e=t.oldRect,r=t.oldCalloutLinePoints,o=t.oldInnerRect,i=t.newRect,a=t.newCalloutLinePoints,u=t.newInnerRect,c=this.pdfViewer;function s(t,e,r){return function(){var o=it(c,n);return o.annot._setRect(t,!1).then((function(){return o.annot.setInnerRectNoAction(r).then((function(){return o.annot.setCalloutLinePoints(e).then((function(){return o.annot.update().then((function(){o.redraw(),o.active()}))}))}))}))}}return{undo:s(e,r,o),redo:s(i,a,u)}},L[g]=function(t){var n=t.annot,e=t.oldStartPoint,r=t.oldEndPoint,o=t.newStartPoint,i=t.newEndPoint,a=this.pdfViewer;function u(t,e){return function(){var r=[],o=it(a,n);return r.push(o.annot.setStartPoint(t)),r.push(o.annot.setEndPoint(e)),Promise.all(r).then((function(){o.active()}))}}return{undo:u(e,r),redo:u(o,i)}},L[b]=function(t){var n=t.annot,e=t.oldLeaderLinePoints,r=t.oldStartPoint,o=t.oldEndPoint,i=t.newLeaderLinePoints,a=t.newStartPoint,u=t.newEndPoint,c=this.pdfViewer;function s(t,e,r){var o=t.start,i=(t.end,Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))),a=!0;return(r.x-e.x)*(o.y-r.y)-(o.x-r.x)*(r.y-e.y)>0&&(a=!1),a&&(i=-i),function(){var t=it(c,n);return t.annot.setLeaderLineLength(i).then((function(){t.active()}))}}return{undo:s(e,r,o),redo:s(i,a,u)}},L[x]=function(t){var n=t.annot,e=t.oldVertexes,r=t.oldIndex,o=t.newVertexes,i=t.newIndex,a=this.pdfViewer;function u(t,e){return function(){var r=it(a,n);return r.annot.updateVertexes(t,e[t]).then((function(){r.active()}))}}return{undo:u(r,e),redo:u(i,o)}},L[m]=function(t){var n=t.annot,e=t.oldContent,r=t.newContent,o=t.oldInnerRect,i=t.newInnerRect,a=t.oldRect,u=t.newRect,c=t.oldCalloutLinePoints,s=t.newCalloutLinePoints,f=this.pdfViewer,l=n.getId(),p=[];f.recordsMap[l]?p=f.recordsMap[l]:(f.recordsMap[l]=p,p.push({modifyDate:n.getCreateDateTime(),content:e}));var d=p.findIndex((function(t){return t.content===e}));function h(t,e,r,o){return function(){return function(t,n){return t.getCurrentPDFDoc().getPageByIndex(n.page.getIndex()).then((function(t){return t.getAnnotsByObjectNumArray([n.objectNumber]).then((function(t){return t[0]}))}))}(f,n).then((function(n){return n.setContent(t).then((function(){(f.recordsMap[n.getId()]||[]).forEach((function(i){if(i.content===t)return r?n.setRect(r).then((function(){return e&&n.setInnerRect(e).then((function(){return o&&n.setCalloutLinePoints(o).then((function(){var t=it(f,n);return t.redraw(),t.active(),n._setModifiedDateTime(i.modifyDate)}))}))})):n._setModifiedDateTime(i.modifyDate)}))}))}))}}return-1!==d&&(p.length=d+1),p.push({modifyDate:n.getModifiedDateTime(),content:r}),{undo:h(e,o,a,c),redo:h(r,i,u,s)}},L[w]=function(t){var n=t.redacts,e=this.pdfViewer,r=n.map((function(t){var n=t.getPopup&&t.getPopup();return n&&!n.isEmpty()?[t,n]:[t]}));return{undo:function(){return Promise.all(n.map((function(t){return t.getPDFPage().removeAnnot(t)})))},redo:function(){return Promise.all(r.map((function(t){if(!(t.length<1))return t[0].page.addAnnotObjects(t.map((function(t){return t.objectNumber}))).then((function(n){e.killFocus();var r=it(e,t[0]);r&&r.active()}))})))}}},L[S]=function(t){var n=t.annot,e=t.replyAnnot,r=this.pdfViewer;return{undo:st(n,et()(e),r),redo:ct(n,et()(e),r)}},L[j]=function(t){var n=t.annot,e=t.replyAnnot,r=this.pdfViewer;return{undo:ct(n,et()(e),r),redo:st(n,et()(e),r)}},L[O]=function(t){var n=t.annot,e=this.pdfViewer,r=n.getAction();return{undo:function(){return n.removeAction()},redo:function(){return function(t,n){return t.setAction(n.type).then((function(){var e=new tt(n).toJson();return t.setActionData(e).then((function(){return function t(n,e){for(var r=e.subActionCount,o=[],i=function(r){o.push(n.insertSubAction(r,e.subAction[r].type).then((function(){var o=new RecoveryAction(e.subAction[r]).toJson(),i=n.getSubAction(r);return i.setActionData(o).then((function(){return t(i,e.subAction[r])}))})))},a=0;a<r;a++)i(a);return Promise.all(o)}(t.getAction(),n)}))}))}(it(e,n).annot,r.info)}}},L[A]=function(t){var n=t.beforeInks,e=t.afterInks,r=this.pdfViewer;return{undo:function(){var t=n.map((function(t,n){var o=t.annot,i=t.inkList;return t.isRemove?at(r,e[n].params,o,!1)().then((function(t){return it(r,o).annot.setInkList(i)})):it(r,o).annot.setInkList(i)}));return Promise.all(t)},redo:function(){var t=e.map((function(t){var n=t.annot;t.inkList;return t.isRemove?ut(n,r)():it(r,t.annot).annot.setInkList(t.inkList)}));return Promise.all(t)}}},L[R]=function(t){var n=t.annot,e=this.pdfViewer,r=[n],o=n.getPopup();return o&&!o.isEmpty()&&r.push(o),{undo:ut(n,e),redo:at(e,r,n)}},L[E]=function(t){var n=t.redacts,e=this.pdfViewer,r=[];return n.map((function(t){r.push(new Q(t).getJson())})),{undo:function(){return Promise.all(n.map((function(t){return t.getPDFPage().removeAnnot(t)})))},redo:at(e,n,n[0])}},L[T]=function(t){var n=t.redacts,e=this.pdfViewer,r=[];return n.map((function(t){r.push(new Q(t).getJson())})),{undo:function(){return Promise.all(n.map((function(t){return t.getPDFPage().removeAnnot(t)})))},redo:at(e,n,n[0])}},L[P]=function(t){var n=t.annot,e=t.stateName,r=this.pdfViewer,o=n.getPDFPage(),i=n.getObjectNumber(),a=n.getReviewStates().find((function(t){return t.info.state===e}));return{undo:function(){return o.getAnnotsByObjectNumArray([i]).then((function(t){return t[0]&&t[0].removeReviewState()}))},redo:function(){return o.getAnnotsByObjectNumArray([i]).then((function(t){return function(t,n,e,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=e[0].page;return i.addReviewStateAnnotObject(n,e.map((function(t){return t.objectNumber}))).then((function(n){t.killFocus();var e=it(t,r);o&&e&&e.active()}))}(r,t[0],[a],a)}))}}},L[I]=function(t){var n=t.annot,e=t.stateName,r=this.pdfViewer,o=n.getMarkedStates().find((function(t){return t.info.state===e}));function i(t){return n.page.getAnnotsByObjectNumArray([t]).then((function(t){return J()(t,1)[0]}))}return{undo:function(){return i(n.objectNumber).then((function(t){return t.removeMarkedState()}))},redo:function(){return i(n.objectNumber).then((function(t){return function(t,n,e,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=e[0].page;return i.addMarkedStateAnnotObject(n,e.map((function(t){return t.objectNumber})),!0,!0).then((function(n){t.killFocus();var e=it(t,r);o&&e&&e.active()}))}(r,t,[o],o)}))}}},L[N]=function(t){var n=t.annot,e=t.oldDA,r=t.newDA,o=this.pdfViewer;function i(t){return function(){var e=it(o,n);return e.annot.setDefaultAppearance(t).then((function(){e.active()}))}}return{undo:i(e),redo:i(r)}},L[_]=function(t){var n=t.srcPage,e=t.destPage,r=t.annots,o=this.pdfViewer.getCurrentPDFDoc(),i=Object.keys(r).reduce((function(t,n){var e=r[n];return t[n]={rect:e.oldRect,oldRect:e.rect},t}),{});return{undo:function(){return o.moveAnnotsToPage(e,n,i,!0)},redo:function(){return o.moveAnnotsToPage(n,e,r,!0)}}},L[C]=function(t){var n=t.annot,e=t.oldCaptionOffset,r=t.newCaptionOffset,o=this.pdfViewer;function i(t){return function(){var e=it(o,n);return e.annot.setCaptionOffset(t.x,t.y).then((function(){e.active()}))}}return{undo:i(e),redo:i(r)}},L[k]=function(t){var n=this,e=t.page,r=t.annotIds,o=t.isGroup;return{undo:function(){n.pdfViewer.killFocus(),e.handleGroupMarkup(r,!o)},redo:function(){n.pdfViewer.killFocus(),e.handleGroupMarkup(r,o)}}},L[M]=function(t){var n=t.annot,e=t.oldIconName,r=t.newIconName,o=this.pdfViewer;function i(t){return function(){return it(o,n).annot.setIconName(t)}}return{undo:i(e),redo:i(r)}},D}(c,s,f,l,G,p,d,h,v,y,g,b,S,x,w,m,j,O,A,R,E,T,P,I,N,_,C,k,M,D,L,F,V,U,B,z);function it(t,n){var e=t.getAnnotRender(n.page.getIndex(),n.objectNumber);return e?e.component:null}function at(t,n,e){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!(n.length<1)){var o=n[0].page;return function(){return o.addAnnotObjects(n.map((function(t){return t.objectNumber}))).then((function(n){t.killFocus();var o=it(t,e);r&&o&&o.active()}))}}}function ut(t,n){return function(){n.activeElement();var e=it(n,t);return e&&e.annot&&e.annot.getPDFPage().removeAnnot(e.annot).then((function(t){var r=n.getCurrentActivatable();return r&&r.remove&&r.remove(e),t}))}}function ct(t,n,e){return function(){var e=t.page;return e.addAnnotObjects([n.objectNumber],!1).then((function(r){t=e.annotIdMap[t.objectNumber];var o=n.reviewStates;if(o.length>0){var i=[];o.map((function(t){i.push(t.info.state)})),function(t,n){var e=new rt;n.forEach((function(n){e.exec((function(){return t.addReviewState(n)}))})),e.waitForCurrentRunningTasks()}(r[0],i)}t.info.repliesSummary.some((function(t){return t.objectNumber==n.objectNumber}))||(t.info.repliesSummary.push({objectNumber:r[0].info.objectNumber,id:r[0].info.objectNumber,index:r[0].info.index}),t.replies.push(r[0])),e.doc.engine.eventEmitter.emit("annotation-reply-add",r[0],t),e.doc.engine.eventEmitter.emit("annotation-updated",[t],e,"add-replies")}))}}function st(t,n,e){return function(){return t.getPDFPage().removeAnnot(n)}}var ft=function(){function t(t){this.pdfViewer=t}return t.prototype.add=function(t,n){this[t]=n},t}(),lt=UIExtension.UIEvents,pt=function(){function t(t,n){this.pdfViewer=t,this.undoRedoManager=n,this.annoutInitStatesManager={};var e=Promise.resolve();this.interpreter={annot:new ot(t),user:new ft(t),undo:function(t){return e=e.finally((function(){return t.undo()}))},redo:function(t){e=e.finally((function(){return t.redo()}))}}}var n=t.prototype;return n.before=function(t,n,e){this.beforeData={type:t,fnName:n,data:e}},n.after=function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.beforeData;o.type===t||o.fnName===n?this.create(t,n,u()(o.data,e),r):this.beforeData=null},n.create=function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];1===Object.keys(e).length&&e.annot&&(this.annoutInitStatesManager[e.annot.objectNumber]=e.annot);var o,i=this.interpreter[t][n](e);o=r?this.undoRedoManager.mergeLast(i):this.undoRedoManager.storage(i);var a=this.undoRedoManager.getRedoStack().clear();return this.pdfViewer.eventEmitter.emit(lt.undoRedoStoreChange,this),function(){o(),a()}},n.removeByName=function(t){this.undoRedoManager.removeByName(t),this.pdfViewer.eventEmitter.emit(lt.undoRedoStoreChange,this)},n.clear=function(){this.undoRedoManager.clear(),this.annoutInitStatesManager={}},n.undo=function(){var t=this.undoRedoManager.undo();t&&(this.interpreter.undo(t),this.pdfViewer.eventEmitter.emit(lt.undoRedoStoreChange,this))},n.redo=function(){var t=this.undoRedoManager.redo();t&&(this.interpreter.redo(t),this.pdfViewer.eventEmitter.emit(lt.undoRedoStoreChange,this))},n.popUndoStack=function(){this.undoRedoManager.getUndoStack().pop()},n.undoAll=function(){for(var t in this.annoutInitStatesManager){var n=this.annoutInitStatesManager[t],e=this.pdfViewer.getAnnotRender(n.page.info.index,n.objectNumber);e&&e.component&&e.component.hideUI()}for(var r=this,o="",i=[];o=this.undoRedoManager.undo();)!function(t){i.push((function(){return r.interpreter.undo(t)}))}(o);return i.reduce((function(t,n){return t.then((function(){return n()}))}),Promise.resolve())},t}(),dt=i.UIEvents,ht=i.PDFViewCtrl.keyboard,vt=ht.BuiltinCommand,yt=ht.BuiltinShortcutContext,gt=ht.interceptors,bt=function(){function t(t){this.pdfViewer=t}var n=t.prototype;return n.isDisabled=function(){return-1!==["touch-up-editor","page-editor"].indexOf(this.pdfViewer.stateHandlerManager.getCurrentStates().getStateName())},n.init=function(){var t=this,n=this.undoRedoManager=new $(this.pdfViewer),e=this.controller=new pt(this.pdfViewer,n);(this.annotModule=new q(this.pdfViewer,e)).init(),this.pdfViewer.getKeyboard().withContext(yt.VIEWER,(function(n){var e={interceptors:[gt.excludeEditableElementInterceptor(),gt.preventDefaultInterceptor()]};n.keydown(vt.UNDO_OPERATION,(function(){t.isDisabled()||t.undo()}),e),n.keydown(vt.REDO_OPERATION,(function(){t.isDisabled()||t.redo()}),e)})),this.pdfViewer.eventEmitter.on(dt.willCloseDocument,(function(){e.clear()}))},n.undo=function(){this.controller.undo()},n.redo=function(){this.controller.redo()},n.undoAll=function(){return this.controller.undoAll()},n.restMergeStatus=function(){this.annotModule.resetMergeStatus()},t}(),xt=e(153),mt=e.n(xt),wt=function(t){function n(){return t.apply(this,arguments)||this}o()(n,t),n.getName=function(){return"undo-redo"},n.getLoader=function(){return mt.a};var e=n.prototype;return e.init=function(n){var e=this;t.prototype.init.call(this,n),this.addonPromise=n.getPDFViewer().then((function(t){if(!t.collaborationOptions||!t.collaborationOptions.enable)return e.addon=new bt(t),e.addon.init(),e.addon}))},e.receiveAction=function(t,n){return this.addonPromise.then((function(e){if(!e)throw new Error("undo/redo is not supported when collaboration is enabled!");return e[t](n)}))},n}(i.UIXAddon)}]).default}));